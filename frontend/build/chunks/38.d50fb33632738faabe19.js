(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(652),a=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var n=e?"error":"success",a=e||t;Object(r.b)(a,{type:n,closeButton:!1,hideProgressBar:!0})}},2087:function(e,t,n){"use strict";t.a=function(e){return{page:{flex:1,display:"flex",flexDirection:"column",position:"relative"},content:{flex:1,padding:"40px 20px"},form:{flex:1,display:"flex",flexDirection:"column"},formFields:{flex:1,padding:[[0,20]],paddingBottom:20},formHeading:{marginTop:35,marginBottom:15},cancelButtonText:{color:e.palette.primary.color3},primaryContactCheck:{marginTop:10},sectionHeader:{padding:[[20,20]]},component:{}}}},2294:function(e,t,n){"use strict";n.r(t),function(e){var r,a=n(0),o=n.n(a),i=n(4),s=n.n(i),c=n(28),u=n(15),l=n(39),p=n(13),d=n(34),f=n(2),h=n(5),m=n(9),b=n.n(m),y=n(30),E=n.n(y),v=n(27),g=n(10),w=n(11),O=n(2087),x=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(t,n,r,a){return new(r||(r=e))((function(e,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}c((a=a.apply(t,n||[])).next())}))},j=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isEditMode:!1},t._submitForm=function(e,n){return S(t,void 0,void 0,(function(){var t,r,a,o;return j(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=this.props.initialData,r=this.state.isEditMode,a={name:e.name},r?[3,2]:[4,this.props.createWareHouse({data:a})];case 1:return(o=i.sent()).success?(Object(w.a)(null,"Warehouse created successfully"),n.setSubmitting(!1),this.props.history.push(h.a.WAREHOUSE())):(o.error.map((function(e){return Object(w.a)(e)})),n.setSubmitting(!1)),[3,4];case 2:return[4,this.props.updateWareHouse({data:a,where:{id:t.id}})];case 3:(o=i.sent()).success?(Object(w.a)(null,"Warehouse updated successfully"),n.setSubmitting(!1),this.props.history.push(h.a.WAREHOUSE())):(o.error.map((function(e){return Object(w.a)(e)})),n.setSubmitting(!1)),i.label=4;case 4:return[3,6];case 5:return i.sent(),n.setSubmitting(!1),[3,6];case 6:return[2]}}))}))},t}return x(t,e),t.prototype.componentDidMount=function(){this.props.actions.updateHeaderTitle("Warehouse"),this.setState({isEditMode:Boolean(b()(this.props,(function(e){return e.initialData})))})},t.prototype.componentDidUpdate=function(e){E()(this.props.initialData,e.initialData)||this.setState({isEditMode:Boolean(b()(this.props,(function(e){return e.initialData})))})},t.prototype._renderSectionHeading=function(){var e=this.state.isEditMode,t=this.props.classes;return o.a.createElement(f.SectionHeader,{title:(e?"Update":"Create new")+" Warehouse",classes:{component:t.sectionHeader}})},t.prototype._renderWarehouseForm=function(e){var t=e.values,n=e.errors,r=e.touched,a=e.handleChange,i=e.handleBlur,c="name",u=this.props.classes;return o.a.createElement(f.ErrorBoundary,null,o.a.createElement("div",{className:u.component},o.a.createElement(s.a,{container:!0,spacing:16},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(f.TextField,{label:"Warehouse Name",placeholder:"Warehouse Name",name:c,id:c,value:t[c],onChange:a,onBlur:i,error:r[c]&&n[c],showClearIcon:!1})))))},t.prototype._renderForm=function(){var e=this,t=this.props,n=t.initialData,r=t.classes,a=t.theme,i=this.state.isEditMode;return o.a.createElement(l.Formik,{initialValues:{name:b()(n,(function(e){return e.name}))||""},enableReinitialize:!0,validationSchema:p.object().shape({name:p.string().required("Name is required")}),onSubmit:this._submitForm},(function(t){var n=t.values,c=t.errors,u=t.touched,l=t.handleChange,p=t.handleBlur,d=t.handleSubmit,m=t.isSubmitting,b=t.dirty;return o.a.createElement("form",{className:r.form,onSubmit:d},o.a.createElement(s.a,{container:!0,classes:{container:r.formFields}},o.a.createElement(s.a,{item:!0,xs:12,sm:6},e._renderWarehouseForm({values:n,errors:c,touched:u,handleChange:l,handleBlur:p}))),o.a.createElement(s.a,{container:!0,spacing:0},o.a.createElement(s.a,{item:!0,xs:12,sm:b?6:12},o.a.createElement(f.Button,{title:i?"Back to Warehouse list":"Cancel",onClick:function(){e.props.history.replace(h.a.WAREHOUSE())},buttonColor:a.palette.grey[200],classes:{text:r.cancelButtonText}})),b&&o.a.createElement(s.a,{item:!0,xs:12,sm:6},o.a.createElement(f.Button,{loading:m,title:(i?"Update":"Create new")+" Warehouse",id:"submit-warehouse",buttonColor:a.palette.primary.color2,type:"submit"}))))}))},t.prototype.render=function(){var e=this,t=this.props.classes;return o.a.createElement(f.ErrorBoundary,null,o.a.createElement(v.a,{onChange:function(){e.props.history.push(h.a.WAREHOUSE())}},o.a.createElement("div",{className:t.page},this._renderSectionHeading(),this._renderForm())))},t}(a.Component);t.default=Object(d.compose)(Object(c.withI18n)(),Object(g.withCreateWareHouse)(),Object(g.withUpdateWareHouse)(),Object(g.withWareHouse)((function(e){return{id:b()(e,(function(e){return e.match.params.id}))}}),(function(e){var t=e.data;return{initialData:b()(t,(function(e){return e.wareHouse}))||{}}})),Object(u.b)((function(e){return{profile:e.profile}})),Object(f.withStyles)(O.a))(C)}.call(this,n(21))},27:function(e,t,n){"use strict";var r=n(0),a=n(18),o=n(15),i=n(317),s=n(9),c=n.n(s);t.a=Object(a.compose)(Object(o.b)((function(e){return{selectedCompany:c()(e,(function(e){return e.profile.selectedCompany}))}})))((function(e){var t=e.selectedCompany,n=e.onChange,a=e.children;return Object(i.a)((function(){n(t)}),[t]),r.createElement(r.Fragment,null,a)}))},317:function(e,t,n){"use strict";var r=n(30),a=n.n(r),o=n(0);function i(e){var t,n,r=Object(o.useRef)();return t=e,n=r.current,a()(t,n)||(r.current=e),r.current}t.a=function(e,t){Object(o.useEffect)(e,i(t))}}}]);