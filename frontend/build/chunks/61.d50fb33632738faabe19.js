(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{2311:function(e,t,r){"use strict";r.r(t);var a,n=r(0),o=r(72),l=r(15),i=r(34),p=r(4),c=r.n(p),d=r(9),s=r.n(d),u=r(37),m=r(24),f=r.n(m),g=r(2),h=r(5),y=r(10),b=r(27),x=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),C=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,n++)a[n]=o[l];return a},O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderLogo=function(){var e=t.props,r=e.classes,a=e.profile,o=Object(u.get)(a,"selectedCompany.logo.url",""),l=Object(u.get)(a,"selectedCompany.name");return o?o?n.createElement("div",{className:r.companyLogo,style:{backgroundImage:"url("+o+")"}}):null:n.createElement("div",{className:r.purchaseOrderName,style:{marginTop:0}},l)},t._renderCancelButton=function(){var e=t.props,r=e.classes,a=e.theme,o=e.initialData.isPbsPO;return n.createElement(g.Button,{title:"Cancel",onClick:function(){t.props.history.replace(o?h.a.PBS_PURCHASE_ORDER():h.a.NON_PBS_PURCHASE_ORDER())},buttonColor:a.palette.grey[200],classes:{text:r.cancelButtonText,component:r.cancelButtonComponent}})},t._renderCell=function(e,r,a){var o=t.props.classes;return"item"===r.id?n.createElement("div",{className:o.borderCell},""+e[r.id].name):"pbsDrug"===r.id?n.createElement("div",{className:o.borderCell},""+JSON.parse(e[r.id]).key):"site"===r.id?n.createElement("div",{className:o.borderCell},""+e[r.id].name):"qty"===r.id?n.createElement("div",{className:o.borderCell},""+e[r.id]):"unit"===r.id?n.createElement("div",{className:o.borderCell},""+e[r.id]):"unitPrice"===r.id?n.createElement("div",{className:o.borderCell},""+e[r.id]):a},t}return x(t,e),t.prototype.componentDidMount=function(){this.props.actions.updateHeaderTitle("Purchase Order")},t.prototype._renderSectionHeading=function(){var e=this.props.classes;return n.createElement(g.SectionHeader,{title:"Purchase order",subtitle:"Below is the preview of your Purchase Order.",classes:{component:e.sectionHeading}})},t.prototype._renderServices=function(){var e=this.props,t=e.classes,r=e.initialData.isPbsPO,a=e.purchaseOrderLines.data,o=void 0===a?[]:a,l=[{id:"unit",label:"Unit",classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.smallWidthCell}},{id:"unitPrice",label:"Unit Price",classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.smallWidthCell}}],i=[{id:r?"pbsDrug":"item",label:"Item",classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.mediumWidthCell}},{id:"site",label:"Site",classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.mediumWidthCell}},{id:"qty",label:"Quantity",classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.smallWidthCell}}];return n.createElement("div",null,n.createElement(g.Table,{classes:{component:t.serviceTable},columnData:r?i:C(i,l),data:o,stripe:!1,sortable:!1,showRemoveIcon:!1,cellRenderer:this._renderCell}))},t.prototype.render=function(){var e=this,t=this.props,r=t.classes,a=t.profile,o=t.initialData,l=void 0===o?{}:o,i=l.date,p=void 0===i?new Date:i,d=l.isPbsPO,s=void 0!==d&&d,m=l.pbsOrganisation,y=void 0===m?"{}":m,x=l.supplier,C=void 0===x?{name:""}:x,O=Object(u.get)(a,"selectedCompany.name"),v=Object(u.get)(a,"selectedCompany.logo.url",""),w=(C||{}).name,S=void 0===w?"":w,T=s?JSON.parse(y).key:S;return n.createElement(g.ErrorBoundary,null,n.createElement(g.ErrorBoundary,null,n.createElement(b.a,{onChange:function(){e.props.history.push(h.a.PURCHASE_ORDER())}},n.createElement("div",{className:r.page},this._renderSectionHeading(),n.createElement("div",{className:r.content},n.createElement("div",{className:r.purchaseOrderHeader},n.createElement(c.a,{container:!0},n.createElement(c.a,{item:!0,xs:6},this._renderLogo()),n.createElement(c.a,{item:!0,xs:6,classes:{item:r.purchaseOrderTitleRightPart}},v&&n.createElement("div",{className:r.purchaseOrderName},O)))),n.createElement("div",{className:r.purchaseOrderDateWrapper},n.createElement("div",{className:r.purchaseOrderDateBlock},n.createElement("div",{className:r.purchaseOrderDateLabel},"Purchase Order Date"),n.createElement("div",{className:r.purchaseOrderDateValue},f()(p).format("DD MMM YYYY"))),n.createElement("div",{className:r.purchaseOrderDateBlock,style:{textAlign:"right"}},n.createElement("div",{className:r.purchaseOrderDateLabel},s?"PBS Organisation":"Supplier"),n.createElement("div",{className:r.purchaseOrderDateValue},T))),n.createElement("div",{className:r.purchaseOrderService},n.createElement("div",{className:r.purchaseOrderSectionTitle},"Purchase Order Lines"),this._renderServices()))),this._renderCancelButton())))},t}(n.Component);t.default=Object(i.compose)(Object(g.withStyles)(Object(g.composeStyles)(o.b,o.d)),Object(y.withPurchaseOrderLines)((function(e,t){var r=!1;return"archived-purchaseOrderLines"===t&&(r=!0),{variables:{where:{purchaseOrder:{id:s()(e,(function(e){return e.match.params.id}))},isArchived:r},orderBy:"id_ASC"}}})),Object(y.withPurchaseOrder)((function(e){return{id:s()(e,(function(e){return e.match.params.id}))}}),(function(e){var t=e.data;return{initialData:s()(t,(function(e){return e.purchaseOrder}))||{}}})),Object(l.b)((function(e){return{profile:e.profile}})))(O)},27:function(e,t,r){"use strict";var a=r(0),n=r(18),o=r(15),l=r(317),i=r(9),p=r.n(i);t.a=Object(n.compose)(Object(o.b)((function(e){return{selectedCompany:p()(e,(function(e){return e.profile.selectedCompany}))}})))((function(e){var t=e.selectedCompany,r=e.onChange,n=e.children;return Object(l.a)((function(){r(t)}),[t]),a.createElement(a.Fragment,null,n)}))},317:function(e,t,r){"use strict";var a=r(30),n=r.n(a),o=r(0);function l(e){var t,r,a=Object(o.useRef)();return t=e,r=a.current,n()(t,r)||(a.current=e),a.current}t.a=function(e,t){Object(o.useEffect)(e,l(t))}},72:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),t.b=function(e){return{page:{flex:1,display:"flex",flexDirection:"column"},wizardComponent:{padding:"20px 0 0 0"},includeCheckboxWrapper:{marginTop:10},sectionHeading:{padding:"20px",minHeight:"42px"},form:{flex:1,display:"flex",flexDirection:"column"},formFields:{flex:1,padding:"20px",paddingBottom:20,minHeight:"calc(100vh - 364px)"},formHeading:{marginTop:35,marginBottom:15},prevNextWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},prevNextButton:{width:230,margin:"0px 10px"},cancelButtonText:{color:e.palette.primary.color3},tableInputCell:{borderLeft:"1px solid "+e.palette.grey[200],minHeight:50,display:"flex",alignItems:"center"},tableInputWrapper:{borderRadius:0,border:"0px","&.is-filled":{backgroundColor:"white"}}}};var a=function(e){return{addRowButton:{marginTop:20},rowTableHeader:{},pDropDown:{minWidth:200},pDropdownSelect:{borderRadius:0,border:0},purchaseOrderLineTable:{padding:"7px 20px 0 20px",minHeight:"calc(100vh - 371px)"},root:{flexGrow:1,height:250},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:"10px"},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:"10px",left:0,right:0},detailCard:{alignSelf:"stretch",height:"100%",flex:1,display:"flex",flexDirection:"column",fontFamily:e.typography.font.family2,position:"relative",color:e.palette.blueGrey[50]},detailCardHeader:{borderTopRightRadius:5,borderTopLeftRadius:5,padding:"0px 20px",color:"white",fontWeight:"bold",height:60,display:"flex",alignItems:"center","&.green":{backgroundColor:e.palette.primary.color1},"&.h1":{fontSize:16},"&.h2":{fontSize:10},"&.blue":{backgroundColor:e.palette.primary.color2},"&.black":{backgroundColor:e.palette.primary.color3}},detailCardContent:{padding:"10px 20px",borderBottomRightRadius:5,borderBottomLeftRadius:5,flex:1,border:"1px solid "+e.palette.grey[200],display:"flex",justifyContent:"center",flexDirection:"column","&.withBG":{backgroundColor:e.palette.grey[100],border:0},"&.h1":{fontSize:20},"&.h2":{fontSize:16}},keyDiv:{marginBottom:5,textAlign:"left"},valueDiv:{textAlign:"right",marginBottom:5,marginRight:15},editButton:{position:"absolute",bottom:10,right:10,fontSize:20,cursor:"pointer"},errorLabel:{color:"#f4a22a",overflow:"hidden",fontSize:"16px",wordWrap:"normal",marginTop:"15px",wordBreak:"normal",fontWeight:500,whiteSpace:"nowrap",marginBottom:"10px",textOverflow:"ellipsis",float:"right"}}},n=function(e){return{content:{flex:1,display:"flex",flexDirection:"column",padding:"40px 20px"},noWrapper:{flex:1,alignItems:"center",justifyContent:"center",display:"flex",margin:"50px 0px"},noMessageWrapper:{width:"60%",maxWidth:660,margin:"0px auto",border:"4px dashed "+e.palette.grey[300],padding:10,borderRadius:20,minHeight:200,backgroundColor:e.palette.grey[100],alignItems:"center",justifyContent:"center",display:"flex",cursor:"pointer"},noMessage:{fontFamily:e.typography.font.family1,fontSize:26,lineHeight:"35px",fontWeight:500,color:e.palette.blueGrey[50],textAlign:"center"},borderCell:{paddingLeft:24,paddingRight:24,minHeight:50,display:"flex",alignItems:"center"},balanceCell:{justifyContent:"space-between"},purchaseOrderLink:{color:e.palette.primary.color2,fontWeight:500},dollarIcon:{color:e.palette.shadow.color3,border:"2px solid "+e.palette.shadow.color3,width:15,height:15,borderRadius:"50%",padding:5,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500,cursor:"pointer","&:hover":{backgroundColor:e.palette.primary.color1,color:"white",border:"2px solid "+e.palette.primary.color1}},iconsWrapper:{display:"flex",alignItems:"center",justifyContent:"center"}}},o=function(e){return{content:{padding:"35px"},pbsContent:{width:"100%"},companyLogo:{width:250,height:88,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundColor:e.palette.shadow.color1,borderRadius:5,alignItems:"center",justifyContent:"center",display:"flex",color:"white",fontSize:40},purchaseOrderTitleRightPart:{display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"space-between"},purchaseOrderHeader:{backgroundColor:e.palette.primary.color1,padding:20,marginTop:10},purchaseOrderName:{color:"white",fontSize:30,marginTop:15,fontFamily:e.typography.font.family1},purchaseOrderDateWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:20,backgroundColor:e.palette.grey[100]},purchaseOrderDateBlock:{},purchaseOrderDateLabel:{fontFamily:e.typography.font.family2,fontSize:16,color:e.palette.grey[700],marginBottom:8},purchaseOrderDateValue:{fontFamily:e.typography.font.family2,fontSize:16,fontWeight:"bold",color:e.palette.grey[700],marginBottom:8},purchaseOrderDatePeriod:{fontFamily:e.typography.font.family2,fontSize:16,fontStyle:"italic",color:e.palette.grey[700]},purchaseOrderCustomer:{border:"1px solid "+e.palette.grey[300],borderTop:0,padding:20},purchaseOrderSectionTitle:{fontFamily:e.typography.font.family2,fontSize:16,color:e.palette.blueGrey[50],fontWeight:500,marginBottom:10},purchaseOrderTextValue:{fontFamily:e.typography.font.family2,fontSize:16,color:e.palette.blueGrey[50],fontWeight:300,marginBottom:7},purchaseOrderService:{border:"1px solid "+e.palette.grey[300],borderTop:0,padding:20},smallTextCell:{fontSize:14,padding:"0px 10px"},bigWidthCell:{width:"80%",padding:"0px 10px"},smallWidthCell:{width:"7%",padding:"0px 10px"},mediumWidthCell:{width:"20%",padding:"0px 10px"},borderCell:{paddingLeft:10,paddingRight:10,borderLeft:"1px solid "+e.palette.grey[200],minHeight:50,display:"flex",alignItems:"center"},subtotalWrapper:{backgroundColor:e.palette.grey[100],padding:15,display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid "+e.palette.grey[300],borderTop:0},subtotalText:{fontFamily:e.typography.font.family2,fontSize:16,color:e.palette.grey[700],fontWeight:300},balanceDueWrapper:{backgroundColor:e.palette.primary.color1,display:"flex",alignItems:"center",justifyContent:"space-between",padding:15},balanceDueText:{fontFamily:e.typography.font.family1,fontSize:32,color:"white",fontWeight:"bold"},purchaseOrderMessage:{border:"1px solid "+e.palette.grey[300],borderTop:0,padding:20},purchaseOrderAttachments:{border:"1px solid "+e.palette.grey[300],borderTop:0,padding:20},purchaseOrderAttachedFiles:{display:"flex",alignItems:"center",flexWrap:"wrap"},payWrapper:{display:"flex",alignItems:"center"},payNowSection:{border:"1px solid "+e.palette.grey[300],borderTop:0,padding:20,alignSelf:"stretch",display:"flex",justifyContent:"center",flexDirection:"column"},payNowText:{fontFamily:e.typography.font.family1,fontSize:44,color:e.palette.blueGrey[50],fontWeight:"bold",marginBottom:10},secureWrapper:{border:"1px solid "+e.palette.grey[300],borderTop:0,borderLeft:0,padding:20,display:"flex",flex:1,justifyContent:"space-between"},secureBtns:{display:"flex",alignItems:"center"},secureBtn:{marginRight:8,width:180},purchaseOrderNote:{fontFamily:e.typography.font.family1,fontSize:16,color:e.palette.blueGrey[50],fontWeight:500,margin:"20px 0px"},customExpansion:{backgroundColor:"#3c4556",color:"white"},pbsPage:{minHeight:"calc(100vh - 285px)"},detailBox:{flexDirection:"column",padding:"20px"},expSecondHeader:{color:"#8a8686"},expHeader:{flexBasis:"72.68%",flexShrink:0}}}}}]);