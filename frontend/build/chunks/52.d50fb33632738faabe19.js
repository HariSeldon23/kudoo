(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{11:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(652),s=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var r=e?"error":"success",s=e||t;Object(n.b)(s,{type:r,closeButton:!1,hideProgressBar:!0})}},2227:function(e,t,r){var n=r(2228);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(186)(n,s);n.locals&&(e.exports=n.locals)},2228:function(e,t,r){(e.exports=r(130)(!1)).push([e.i,'.new-password-page{background-color:#f7f7fc;padding:45px;font-family:"montserrat", sans-serif}.new-password-page .title{color:#2598d2;margin:10px 0px;font-family:Roboto, sans-serif;font-size:32px;font-weight:500;text-align:center}.new-password-page .green-text-color{color:#2bc88f}.new-password-page .middle-container{max-width:400px;margin:0px auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.new-password-page .middle-container .form{width:100%}.new-password-page .middle-container .input-wrapper{margin-bottom:10px}.new-password-page .middle-container .form-error-text{color:red;margin:10px 0px 20px 0px;text-align:center;font-size:15px;font-family:"montserrat", sans-serif}.new-password-page .middle-container .mail-sent-icon{width:100px;height:100px;margin:30px 0px 25px 0px}.new-password-page .middle-container .message-wrapper{line-height:24px}.new-password-page .middle-container .message-wrapper .message-title{text-align:center;color:#ef9121;font-weight:500;margin-bottom:10px;font-size:16px}.new-password-page .middle-container .message-wrapper .message-desc{text-align:center;color:#a8a8a8;margin-bottom:20px;font-size:15px}.new-password-page .middle-container .signin-btn-text{color:#222}\n',""])},2281:function(e,t,r){"use strict";r.r(t),function(e){var n,s=r(0),a=r(4),o=r.n(a),i=r(39),c=r(13),p=r(18),l=r(63),d=r(3),u=r.n(d),m=r(2),w=r(5),f=r(11),h=r(10),g=(r(2227),n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y=function(t,r,n,s){return new(n||(n=e))((function(e,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,i)}c((s=s.apply(t,r||[])).next())}))},b=function(e,t){var r,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={token:""},t._resetPassword=function(e,r){return y(t,void 0,void 0,(function(){var t,n;return b(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.props.resetPassword({password:e.password,passwordRepeat:e.reTypePassword})];case 1:return t=s.sent(),r.setSubmitting(!1),t.success?(this.props.actions.resetUserData(),this.props.history.push(w.a.LOGIN())):t.error.map((function(e){return Object(f.a)(e)})),[3,3];case 2:return n=s.sent(),r.setSubmitting(!1),console.error(n),[3,3];case 3:return[2]}}))}))},t._renderSuccess=function(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"title"},"Choose a new password"),s.createElement(o.a,{container:!0,justify:"center"},s.createElement(o.a,{item:!0,xs:12},s.createElement("div",{className:"middle-container"},s.createElement("img",{className:"mail-sent-icon",src:r(2210)}),s.createElement("div",{className:"message-wrapper"},s.createElement("div",{className:"message-title"},"Type a new password below"),s.createElement("div",{className:"message-desc"},"Please choose a password which is different to any previous used passwords.")),s.createElement(i.Formik,{initialValues:{password:"",reTypePassword:""},validationSchema:c.object().shape({password:c.string().min(4,"Password should be atleast 4 characters").required("Password is required!"),reTypePassword:c.string().oneOf([c.ref("password")],"Passwords do not match").required("Retype your Password!")}),onSubmit:t._resetPassword},(function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,o=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return s.createElement("form",{className:"form",autoComplete:"off",onSubmit:i},s.createElement(m.TextField,{type:"password",name:"password",id:"password",icon:n.password&&r.password?s.createElement("i",{className:"icon icon-password"}):s.createElement("i",{className:"icon icon-password green-text-color"}),placeholder:"Password",value:t.password,onChange:a,onBlur:o,classes:{component:"input-wrapper"},error:n.password&&r.password}),s.createElement(m.TextField,{type:"password",name:"reTypePassword",id:"reTypePassword",icon:n.reTypePassword&&r.reTypePassword?s.createElement("i",{className:"icon icon-password"}):s.createElement("i",{className:"icon icon-password green-text-color"}),placeholder:"Re-Type Password",value:t.reTypePassword,onChange:a,onBlur:o,classes:{component:"input-wrapper"},error:n.reTypePassword&&r.reTypePassword}),s.createElement(m.Button,{type:"submit",classes:{component:"submit-btn"},isDisabled:c,title:"Save my new password",applyBorderRadius:!0,iconAfter:c?s.createElement("i",{className:"fa fa-pulse fa-spinner"}):null}))})),s.createElement(m.Button,{href:"/login",classes:{text:"signin-btn-text"},width:"100%",title:"Back to sign in",buttonColor:"transparent",applyBorderRadius:!0,target:"_self"})))))},t._renderError=function(){var e=l.parse(u()(t.props,"location.search","")).message;return s.createElement(s.Fragment,null,s.createElement("div",{className:"title"},e||"Link is not valid"))},t}return g(t,e),t.prototype.componentDidMount=function(){var e=l.parse(u()(this.props,"location.search","")).token;"success"===u()(this.props,"match.params.status","")&&(this.setState({token:e}),this.props.actions.setOnlyToken(e))},t.prototype.render=function(){var e=this.props.match,t=this.state.token,r=u()(e,"params.status","");return s.createElement(m.ErrorBoundary,null,s.createElement("div",{className:"new-password-page"},"success"===r&&t?this._renderSuccess():this._renderError()))},t}(s.Component);t.default=Object(p.compose)(Object(h.withResetPassword)())(x)}.call(this,r(21))}}]);