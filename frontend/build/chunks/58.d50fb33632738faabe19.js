(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{2185:function(t,n,e){"use strict";(function(t){var r,a=e(0),o=e.n(a),i=e(15),c=e(18),s=e(24),l=e.n(s),u=e(9),p=e.n(u),f=e(3),d=e.n(f),h=e(35),y=e.n(h),m=e(30),b=e.n(m),g=e(2),v=e(27),T=e(10),k=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),w=function(n,e,r,a){return new(r||(r=t))((function(t,o){function i(t){try{s(a.next(t))}catch(t){o(t)}}function c(t){try{s(a.throw(t))}catch(t){o(t)}}function s(n){var e;n.done?t(n.value):(e=n.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,c)}s((a=a.apply(n,e||[])).next())}))},_=function(t,n){var e,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(t,i)}catch(t){o=[6,t],r=0}finally{e=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},x=function(t){function n(n){var e=t.call(this,n)||this;return e._onRequestSort=function(t){return w(e,void 0,void 0,(function(){var n,e,r,a,o;return _(this,(function(i){switch(i.label){case 0:return n=this.state.columns,e=y()(n,{sorted:!0}),r=y()(n,{id:t.id}),a="asc",e.id===r.id&&"asc"===e.order&&(a="desc"),o={orderBy:r.id+"_"+a.toUpperCase()},[4,this.props.bankTransactions.refetch(o)];case 1:return i.sent(),e.sorted=!1,r.sorted=!0,r.order=a,this.setState({columns:n}),[2]}}))}))},e.state={displayedBankTransactions:p()(n,(function(t){return t.bankTransactions.data})),columns:[{id:"transactionDate",label:"Transaction Date",sorted:!0,order:"asc"},{id:"description",label:"Description"},{id:"amount",label:"Amount"}]},e}return k(n,t),n.prototype.componentDidUpdate=function(t){var n=p()(t,(function(t){return t.bankTransactions.data}))||[],e=p()(this.props,(function(t){return t.bankTransactions.data}))||[];b()(n,e)||this._updateBankTransactions(e)},n.prototype._updateBankTransactions=function(t){t.forEach((function(t){t.transactionDate=l()(t.transactionDate).format("DD MMM YYYY")})),this.setState({displayedBankTransactions:t})},n.prototype.render=function(){var t=this.state,n=t.displayedBankTransactions,e=t.columns,r=this.props,a=r.match,i=r.history,c=r.location,s=r.actions,l=r.bankTransactions,u=void 0===l?{}:l;return o.a.createElement(g.ErrorBoundary,null,o.a.createElement(v.a,{onChange:u.refetch},this.props.children({match:a,history:i,location:c,actions:s,columns:e,bankTransactions:n,bankTransactionsLoading:d()(this.props,"bankTransactions.loading"),onSortRequested:this._onRequestSort,onLoadMore:d()(this.props,"bankTransactions.loadNextPage")})))},n.defaultProps={bankTransactions:{refetch:function(){},loadNextPage:function(){},children:function(t){}}},n}(a.Component);n.a=Object(c.compose)(Object(i.b)((function(t){return{profile:t.profile}})),Object(T.withBankTransactions)((function(t){t.profile;var n=!1;return"archived-bankTransactions"===t.type&&(n=!0),{variables:{where:{isArchived:n},orderBy:"transactionDate_ASC"}}})))(x)}).call(this,e(21))},2357:function(t,n,e){"use strict";e.r(n);var r,a=e(0),o=e.n(a),i=e(31),c=e.n(i),s=e(101),l=e(2),u=e(5),p=e(4),f=e.n(p),d=e(2185),h=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),y=function(){return(y=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},m=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._renderCell=function(t,n,e){return"transactionDate"===n.id?o.a.createElement(s.a,{to:u.a.EDIT_BANK_TRANSACTIONS({id:t.id})},e):e},n}return h(n,t),n.prototype._renderSectionHeading=function(){var t=this.props,n=t.history,e=t.theme;return o.a.createElement(l.SectionHeader,{title:"Bank Transactions",subtitle:"Below is a list of all your Bank Transactions.",renderLeftPart:function(){return o.a.createElement(l.Button,{title:"Create New Bank Transactions",applyBorderRadius:!0,width:260,buttonColor:e.palette.primary.color2,onClick:function(){n.push(u.a.CREATE_BANK_TRANSACTIONS())}})}})},n.prototype._renderNoBankTransaction=function(){var t=this.props.classes;return o.a.createElement("div",{className:t.noLedgerWrapper},o.a.createElement("div",{className:t.noActiveMessageWrapper},o.a.createElement("div",{className:t.noActiveMessage},"There are no bank transactions. ",o.a.createElement("br",null),"Letâ€™s start by creating a new Main Account.")))},n.prototype._renderBankTransaction=function(){var t=this.props,n=t.bankTransactions,e=t.bankTransactionsLoading,r=t.onLoadMore,a=t.columns,i=t.onSortRequested;return o.a.createElement(f.a,{container:!0},o.a.createElement(f.a,{item:!0,xs:12},o.a.createElement(l.Table,{columnData:a,data:n,stripe:!1,showRemoveIcon:!1,sortable:!0,onRequestSort:i,loading:e,cellRenderer:this._renderCell,onBottomReachedThreshold:500,onBottomReached:function(){e||r()}})))},n.prototype.render=function(){var t=this.props,n=t.classes,e=t.bankTransactions,r=t.bankTransactionsLoading;return o.a.createElement(l.ErrorBoundary,null,o.a.createElement("div",{className:n.page},this._renderSectionHeading(),r&&o.a.createElement(l.Loading,null),!r&&c()(e)&&this._renderNoBankTransaction(),!c()(e)&&this._renderBankTransaction()))},n}(a.Component),b=Object(l.withStyles)(Object(l.composeStyles)((function(t){return{page:{display:"flex",flexWrap:"wrap",padding:10},imageSize:{height:"calc(100vh - 155px)",width:"calc(100vw - 285px)"}}}),(function(t){return{page:{padding:"40px 20px",flex:1,display:"flex",flexDirection:"column"},noLedgerWrapper:{flex:1,alignItems:"center",justifyContent:"center",display:"flex",margin:"50px 0px"},noActiveMessageWrapper:{width:"60%",maxWidth:660,margin:"0px auto",border:"4px dashed "+t.palette.grey[300],padding:10,borderRadius:20,minHeight:200,backgroundColor:t.palette.grey[100],alignItems:"center",justifyContent:"center",display:"flex"},noActiveMessage:{fontFamily:t.typography.font.family1,fontSize:26,lineHeight:"35px",fontWeight:"500",color:t.palette.blueGrey[50],textAlign:"center"},mainAccountNameCell:{fontFamily:t.typography.font.family2,color:t.palette.primary.color2,cursor:"pointer",fontWeight:500},ledgerContainer:{marginTop:"20px !important"}}})))(m);n.default=function(t){return o.a.createElement(d.a,y({},t,{type:"active-bankTransactions"}),(function(t){return o.a.createElement(b,y({},t))}))}},27:function(t,n,e){"use strict";var r=e(0),a=e(18),o=e(15),i=e(317),c=e(9),s=e.n(c);n.a=Object(a.compose)(Object(o.b)((function(t){return{selectedCompany:s()(t,(function(t){return t.profile.selectedCompany}))}})))((function(t){var n=t.selectedCompany,e=t.onChange,a=t.children;return Object(i.a)((function(){e(n)}),[n]),r.createElement(r.Fragment,null,a)}))},317:function(t,n,e){"use strict";var r=e(30),a=e.n(r),o=e(0);function i(t){var n,e,r=Object(o.useRef)();return n=t,e=r.current,a()(n,e)||(r.current=t),r.current}n.a=function(t,n){Object(o.useEffect)(t,i(n))}}}]);