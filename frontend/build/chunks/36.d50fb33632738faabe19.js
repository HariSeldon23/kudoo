(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{11:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(652),a=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var r=e?"error":"success",a=e||t;Object(n.b)(a,{type:r,closeButton:!1,hideProgressBar:!0})}},2078:function(e,t,r){"use strict";(function(e){var n,a=r(0),o=r(7),i=r.n(o),s=r(3),l=r.n(s),c=r(4),u=r.n(c),p=r(39),d=r(13),m=r(15),f=r(18),h=r(2),b=r(11),w=r(10),y=r(2079),v=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=function(){return(g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E=function(t,r,n,a){return new(n||(n=e))((function(e,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,s)}l((a=a.apply(t,r||[])).next())}))},_=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderForm=function(e){var r=e.values,n=e.errors,o=e.touched,s=e.handleChange,l=e.handleBlur,c=e.dirty,p=t.props,d=p.classes,m=p.theme;return a.createElement("form",{className:d.formWrapper,autoComplete:"off",onSubmit:e.handleSubmit},a.createElement("div",{className:d.formFields},a.createElement(u.a,{container:!0},a.createElement(u.a,{item:!0,xs:12,sm:6},a.createElement(h.SectionHeader,{title:"Basic Details",classes:{component:d.sectionHeading}}),a.createElement("div",{className:i()(d.fieldRow,d.halfFieldWrapper)},a.createElement(h.TextField,{label:"Name",value:r.firstName,classes:{component:d.leftInput},id:"firstName",name:"firstName",onChange:s,onBlur:l,error:o.firstName&&n.firstName}),a.createElement(h.TextField,{label:"Surname",value:r.lastName,id:"lastName",name:"lastName",onChange:s,onBlur:l,error:o.lastName&&n.lastName})),a.createElement("div",{className:d.fieldRow},a.createElement(h.TextField,{label:"Job Title",placeholder:"Job Title",value:r.jobTitle||"",id:"jobTitle",name:"jobTitle",onChange:s,onBlur:l,error:o.jobTitle&&n.jobTitle})),a.createElement(h.SectionHeader,{title:"Contact Details",classes:{component:d.sectionHeading}}),a.createElement("div",{className:d.fieldRow},a.createElement(h.PhoneNumberField,{areaCodeFieldName:"contactNumber.countryCode",phoneNumberFieldName:"contactNumber.nationalNumber",areaCodeLabel:"Area Code",phoneNumberLabel:"Mobile Number",showClearIcon:!1})),a.createElement("div",{className:d.fieldRow},a.createElement(h.TextField,{label:"Email",placeholder:"Email",value:r.email||"",isReadOnly:!0,showClearIcon:!1}))))),c&&a.createElement(u.a,{container:!0,spacing:0},a.createElement(u.a,{item:!0,xs:12},a.createElement(h.Button,{title:"Save",loading:e.isSubmitting,buttonColor:m.palette.primary.color2,type:"submit"}))))},t}return v(t,e),t.prototype._renderFormSection=function(){var e=this,t=this.props.profile||{};return a.createElement(p.Formik,{enableReinitialize:!0,initialValues:{firstName:t.firstName||"",lastName:t.lastName||"",jobTitle:t.jobTitle||"",email:t.email||"",contactNumber:{countryCode:l()(t,"contactNumber.countryCode"),nationalNumber:l()(t,"contactNumber.nationalNumber")}},validationSchema:d.object().shape({firstName:d.string().required("Firstname is required"),lastName:d.string().required("Lastname is required"),jobTitle:d.string().required("Job Title is required")}),onSubmit:function(t,r){return E(e,void 0,void 0,(function(){var e,n,a;return _(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=t,l()(e,"contactNumber.countryCode")&&l()(e,"contactNumber.nationalNumber")||delete e.contactNumber,[4,this.props.updateAccount(e)];case 1:return n=o.sent(),r.setSubmitting(!1),n.success?(Object(b.a)(null,"Account Updated"),this.props.actions.setUserData(g(g({},n.result),{isLoggedIn:!0}))):n.error.map((function(e){return Object(b.a)(e)})),[3,3];case 2:return a=o.sent(),r.setSubmitting(!1),Object(b.a)(a.toString()),[3,3];case 3:return[2]}}))}))}},this._renderForm)},t.prototype.render=function(){var e=this.props.classes;return a.createElement(h.ErrorBoundary,null,a.createElement("div",{className:e.page},this._renderFormSection()))},t}(a.Component);t.a=Object(f.compose)(Object(m.b)((function(e){return{profile:e.profile}})),Object(w.withUpdateUser)((function(){return{name:"updateAccount"}})))(Object(h.withStyles)(y.a)(C))}).call(this,r(21))},2079:function(e,t,r){"use strict";t.a=function(e){return{page:{flex:1,display:"flex",flexDirection:"column"},sectionHeading:{marginTop:20},formWrapper:{marginTop:20,flex:1,display:"flex",flexDirection:"column"},formFields:{padding:"0px 20px 20px",flex:1},fieldRow:{marginTop:20,position:"relative"},halfFieldWrapper:{display:"flex",alignItems:"center"},leftInput:{marginRight:10}}}},2080:function(e,t,r){"use strict";(function(e){var n,a=r(0),o=r(7),i=r.n(o),s=r(39),l=r(18),c=r(13),u=r(4),p=r.n(u),d=r(2),m=r(11),f=r(10),h=r(2081),b=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=function(t,r,n,a){return new(n||(n=e))((function(e,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,s)}l((a=a.apply(t,r||[])).next())}))},y=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={updatePasswordModalVisible:!1},t._openUpdatePasswordModal=function(){t.setState({updatePasswordModalVisible:!0})},t._closeUpdatePasswordModal=function(){t.setState({updatePasswordModalVisible:!1})},t._updatePassword=function(e,r){return w(t,void 0,void 0,(function(){var t,n;return y(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.props.updatePassword({oldPassword:e.oldPassword,password:e.password,passwordRepeat:e.passwordRepeat})];case 1:return t=a.sent(),r.setSubmitting(!1),t.success?(Object(m.a)(null,"Password updated successfully!"),this._closeUpdatePasswordModal()):t.error.map((function(e){return Object(m.a)(e,"")})),[3,3];case 2:return n=a.sent(),r.setSubmitting(!1),Object(m.a)(n.toString(),""),[3,3];case 3:return[2]}}))}))},t}return b(t,e),t.prototype._renderUpdatePasswordModal=function(){var e=this,t=this.props,r=t.theme,n=t.classes,o=this.state.updatePasswordModalVisible;return a.createElement(d.Modal,{visible:o,onClose:this._closeUpdatePasswordModal,classes:{description:n.updatePwdModalDescription},description:a.createElement(s.Formik,{initialValues:{oldPassword:"",password:"",passwordRepeat:""},validationSchema:c.object({oldPassword:c.string().required("Old Password is required"),password:c.string().required("New Password is required"),passwordRepeat:c.string().oneOf([c.ref("password")],"Passwords do not match").required("Repeat New Password is required")}),onSubmit:this._updatePassword},(function(t){var o=t.values,i=t.touched,s=t.errors;return a.createElement("form",{className:n.form,onSubmit:t.handleSubmit},a.createElement("div",{className:n.formFields},a.createElement("div",null,a.createElement(d.TextField,{id:"oldPassword",name:"oldPassword",label:"Old password",type:"password",placeholder:"*******",value:o.oldPassword,error:i.oldPassword&&s.oldPassword,onChange:t.handleChange,onBlur:t.handleBlur})),a.createElement("div",null,a.createElement(d.TextField,{id:"password",name:"password",label:"New password",type:"password",placeholder:"*******",value:o.password,error:i.password&&s.password,onChange:t.handleChange,onBlur:t.handleBlur})),a.createElement("div",null,a.createElement(d.TextField,{id:"passwordRepeat",name:"passwordRepeat",label:"Repeat new password",type:"password",placeholder:"*******",value:o.passwordRepeat,error:i.passwordRepeat&&s.passwordRepeat,onChange:t.handleChange,onBlur:t.handleBlur}))),a.createElement(p.a,{container:!0},a.createElement(p.a,{item:!0,xs:12,sm:6},a.createElement(d.Button,{title:"Cancel",buttonColor:r.palette.grey[200],classes:{text:n.cancelButtonText},onClick:e._closeUpdatePasswordModal})),a.createElement(p.a,{item:!0,xs:12,sm:6},a.createElement(d.Button,{id:"update-password-submit",title:"Update",buttonColor:r.palette.primary.color2,type:"submit",loading:t.isSubmitting}))))}))})},t.prototype._renderFormSection=function(){var e=this.props.classes;return a.createElement(a.Fragment,null,a.createElement(d.SectionHeader,{title:"Security",classes:{component:e.sectionHeading}}),a.createElement(p.a,{container:!0},a.createElement(p.a,{item:!0,xs:12,sm:5},a.createElement("form",{className:e.formWrapper},a.createElement("div",{className:i()(e.fieldRow)},a.createElement(d.TextField,{label:"Password",type:"password",placeholder:"*******",disabled:!0,isReadOnly:!0,extraLinkWithLabel:"Change",onExtraLinkClicked:this._openUpdatePasswordModal}))))))},t.prototype.render=function(){var e=this.props.classes;return a.createElement(d.ErrorBoundary,null,a.createElement("div",{className:e.page},this._renderFormSection(),this._renderUpdatePasswordModal()))},t}(a.Component);t.a=Object(l.compose)(Object(d.withStyles)(h.a),Object(f.withUpdateUser)((function(){return{name:"updatePassword"}})))(v)}).call(this,r(21))},2081:function(e,t,r){"use strict";t.a=function(e){return{page:{padding:"0px 20px 20px"},sectionHeading:{marginTop:40},formWrapper:{marginTop:20},fieldRow:{marginTop:20,position:"relative"},halfFieldWrapper:{display:"flex",alignItems:"center"},leftInput:{marginRight:10},fieldSideText:{fontFamily:"'montserrat', sans-serif",fontSize:14,color:"#B7B7B7",position:"absolute",bottom:20,right:-220,minWidth:200},form:{width:"100%",minWidth:600},formFields:{width:"90%",padding:"20px 5%"},cancelButtonText:{color:e.palette.primary.color3},updatePwdModalDescription:{padding:0}}}},2340:function(e,t,r){"use strict";r.r(t);var n,a=r(0),o=r.n(a),i=r(316),s=r(219),l=r(315),c=r(2),u=r(5),p=r(2078),d=r(2080),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t){var r=e.call(this,t)||this;return r.state={headerData:[{id:"company",label:"Company"},{id:"device",label:"Device"},{id:"when",label:"When"},{id:"where",label:"Where"}],historyData:[{company:"Ace Powder Coating",device:"Mac using Chrome",when:"Victoria, Australia",where:"12/06/2017 - 04:40 AEDT"},{company:"Bitesize Gear",device:"Mac using Chrome",when:"Victoria, Australia",where:"05/11/2017 - 12:32 AEDT"},{company:"Ace Powder Coating",device:"Mac using Chrome",when:"Victoria, Australia",where:"12/06/2017 - 04:40 AEDT"},{company:"Bitesize Gear",device:"Mac using Chrome",when:"Victoria, Australia",where:"05/11/2017 - 12:32 AEDT"},{company:"Ace Powder Coating",device:"Mac using Chrome",when:"Victoria, Australia",where:"12/06/2017 - 04:40 AEDT"},{company:"Bitesize Gear",device:"Mac using Chrome",when:"Victoria, Australia",where:"05/11/2017 - 12:32 AEDT"}]},r}return m(t,e),t.prototype._renderFormSection=function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.SectionHeader,{title:"Account Activity",subtitle:"See anything unusual? Try resetting your password!",classes:{component:e.sectionHeading}}),o.a.createElement(c.Table,{columnData:this.state.headerData,data:this.state.historyData,sortable:!1,showRemoveIcon:!1}))},t.prototype.render=function(){var e=this.props.classes;return o.a.createElement(c.ErrorBoundary,null,o.a.createElement("div",{className:e.page},this._renderFormSection()))},t}(a.Component),h=Object(c.withStyles)((function(e){return{page:{padding:"0px 20px 20px"},sectionHeading:{marginTop:40,marginBottom:20}}}))(f),b=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(){return(w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t._findActiveSecondaryTab=function(){var e;return c.helpers.isURLMatching(u.a.ACCOUNT_BASIC_DETAILS({path:!0}))?e=0:c.helpers.isURLMatching(u.a.ACCOUNT_USER_SECURITY({path:!0}))&&(e=2),e},t}return b(t,e),t.prototype.componentDidMount=function(){this.props.actions.updateHeaderTitle("Account Settings")},t.prototype._renderSecondaryTabs=function(){var e=this;return o.a.createElement(c.Tabs,{tabs:[{label:"Basic Details",onClick:function(){e.props.history.push(u.a.ACCOUNT_BASIC_DETAILS())}},{label:"Security",onClick:function(){e.props.history.push(u.a.ACCOUNT_USER_SECURITY())}}],tabTheme:"secondary",activeIndex:this._findActiveSecondaryTab()})},t.prototype.render=function(){var e=this.props,t=e.classes,r=e.actions;return o.a.createElement("div",{className:t.page},this._renderSecondaryTabs(),o.a.createElement(i.a,null,o.a.createElement(s.a,{path:u.a.ACCOUNT_BASIC_DETAILS({path:!0}),render:function(e){return o.a.createElement(p.a,w({},e,{actions:r}))}}),o.a.createElement(s.a,{path:u.a.ACCOUNT_USER_SECURITY({path:!0}),render:function(e){return o.a.createElement(d.a,w({},e,{actions:r}))}}),o.a.createElement(s.a,{path:u.a.ACCOUNT_USER_HISTORY({path:!0}),render:function(e){return o.a.createElement(h,w({},e,{actions:r}))}}),o.a.createElement(l.a,{from:u.a.ACCOUNT_SETTINGS(),to:u.a.ACCOUNT_BASIC_DETAILS()})))},t}(a.Component);t.default=Object(c.withStyles)((function(e){return{page:{flex:1,display:"flex",flexDirection:"column"}}}))(y)}}]);