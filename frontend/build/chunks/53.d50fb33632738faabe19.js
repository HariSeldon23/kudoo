(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{2336:function(e,t,o){"use strict";o.r(t);var n,r=o(0),a=o.n(r),i=o(18),c=o(15),l=o(3),s=o.n(l),p=o(7),m=o.n(p),u=o(69),f=o.n(u),d=o(2),h=o(4),y=o.n(h),g=o(76),v=o.n(g),b=o(27),E=function(e){return{page:{},headerBar:{backgroundColor:e.palette.grey[100],height:50,display:"flex",alignItems:"center"},refreshButton:{padding:[[0,10]],backgroundColor:e.palette.primary.color2,color:"white",display:"flex",alignItems:"center",justifyContent:"center",width:50,fontSize:20,height:"100%"},lastRefreshText:{fontFamily:e.typography.font.family2,fontSize:14,color:"#c4c4c4",fontWeight:300,margin:[[0,15]],flex:1},periodButtons:{display:"flex",alignItems:"center",marginRight:15},periodButton:{backgroundColor:e.palette.grey[200],padding:[[10,15]],borderRadius:25,marginLeft:15,fontSize:16,fontWeight:500,fontFamily:e.typography.font.family2,width:100,color:"#c4c4c4","&.active":{backgroundColor:e.palette.primary.color1,color:"#fff"}},dateInput:{backgroundColor:"white",borderRadius:0,border:"0px solid",width:150,"&.is-filled":{backgroundColor:"white"}},calendarBtn:{backgroundColor:"white",color:e.palette.primary.color1},blockWrapper:{position:"relative",margin:10,display:"flex",flexDirection:"column",flex:1,"&.n-m-left":{marginLeft:0},"&.n-m-right":{marginRight:0},"&.n-m-top":{marginTop:0}},blockTitle:{backgroundColor:e.palette.primary.color3,padding:[[15,20]],fontFamily:e.typography.font.family1,fontSize:16,fontWeight:700,color:"white",border:"1px solid "+e.palette.grey[200],borderBottom:"0px solid",display:"flex",alignItems:"center",justifyContent:"space-between"},blockContent:{border:"1px solid "+e.palette.grey[200],borderTop:"0px solid",flex:1,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[100]},widgetItem:{display:"flex",flexDirection:"column"},rowCell:{display:"flex",flexDirection:"column"},widgets:{display:"flex",flexWrap:"wrap",padding:10}}},T=function(e){return{invoiceBlock:{padding:20,backgroundColor:e.palette.grey[100]},invoiceBlockItem:{display:"flex",flexDirection:"column"},invoiceAmount:{padding:35,textAlign:"center",fontSize:24,fontFamily:e.typography.font.family2,color:"white",fontWeight:500,"$invoiceBlockItem.green &":{backgroundColor:e.palette.primary.color1},"$invoiceBlockItem.orange &":{backgroundColor:e.palette.secondary.color1}},invoiceNumber:{padding:5,textAlign:"center",fontSize:14,fontFamily:e.typography.font.family2,color:"white",fontWeight:300,"$invoiceBlockItem.green &":{backgroundColor:e.palette.shadow.color1},"$invoiceBlockItem.orange &":{backgroundColor:"#D98F21"}},invoiceTitle:{textAlign:"center",fontSize:16,fontFamily:e.typography.font.family2,color:e.palette.blueGrey[50],fontWeight:500,marginTop:15}}},x=function(e){return{component:{padding:20,backgroundColor:e.palette.grey[100]},list:{border:"1px solid "+e.palette.grey[300]},listItem:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",padding:10,borderBottom:"1px solid "+e.palette.grey[300],"&:last-child":{borderBottom:"0px solid"}},noRecentItem:{justifyContent:"center",backgroundColor:"transparent",padding:"0px"},listItemPrimary:{fontFamily:e.typography.font.family2,color:e.palette.blueGrey[50],fontSize:16,fontWeight:300},listItemSecondary:{fontFamily:e.typography.font.family2,color:"#c4c4c4",fontSize:16,fontWeight:300}}},I=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return I(t,e),t.prototype.render=function(){var e=this.props.classes;return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:e.blockWrapper},r.createElement("div",{className:e.blockTitle},"Profile Status"),r.createElement("div",{className:m()(e.blockContent,e.profileStatusBlock)},r.createElement(y.a,{container:!0,spacing:0},r.createElement(y.a,{item:!0,xs:12,md:7},r.createElement(d.LinearProgressBar,{label:"Account Profile",value:20,classes:{component:e.progressBar,label:e.progressBarLabel}}),r.createElement(d.LinearProgressBar,{label:"Company details",value:5,classes:{component:e.progressBar,label:e.progressBarLabel}}),r.createElement(d.LinearProgressBar,{label:"Invoices",value:40,classes:{component:e.progressBar,label:e.progressBarLabel}}),r.createElement(d.LinearProgressBar,{label:"Timesheets",value:60,classes:{component:e.progressBar,label:e.progressBarLabel}}),r.createElement(d.LinearProgressBar,{label:"Customers",value:30,classes:{component:e.progressBar,label:e.progressBarLabel}}),r.createElement(d.LinearProgressBar,{label:"Services",value:5,classes:{component:e.progressBar,label:e.progressBarLabel}})),r.createElement(y.a,{item:!0,xs:12,md:5},r.createElement("div",{className:e.circularProgressWrapper},r.createElement(d.CircularProgressBar,{value:25,width:180},r.createElement("div",{className:e.circularProgressPercent},"25 %"),r.createElement("div",{className:e.circularProgressStatus},"complete")),r.createElement("div",{className:e.circularProgressMsg},"Complete your profile to ensure a seamless experience with Kudoo."))))),r.createElement("div",{className:e.comingSoonBlock},r.createElement("div",{className:e.comingSoonText},"Coming Soon"))))},t}(r.Component),O=Object(d.withStyles)(Object(d.composeStyles)(E,(function(e){return{comingSoonBlock:{position:"absolute",top:0,right:0,left:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},comingSoonText:{fontFamily:e.typography.font.family2,color:e.palette.primary.color1,fontSize:30,fontWeight:"bold",marginTop:50},profileStatusBlock:{padding:20,filter:"blur(4px)"},progressBar:{marginBottom:10},progressBarLabel:{width:150},circularProgressWrapper:{display:"flex",alignItems:"center"},circularProgressPercent:{color:e.palette.secondary.color1,fontFamily:e.typography.font.family2,fontSize:32,fontWeight:"bold"},circularProgressStatus:{color:"#C4C4C4",fontFamily:e.typography.font.family2,fontSize:14},circularProgressMsg:{fontFamily:e.typography.font.family2,fontSize:16,fontWeight:"300",color:e.palette.grey[700],marginLeft:10,lineHeight:"25px"}}})))(w),C=o(30),N=o.n(C),_=o(140),S=o.n(_),j=o(1e3),k=o.n(j),P=o(252),B=o.n(P),D=o(28),A=o(1001),R=o(253),L=o.n(R),F=o(24),W=o.n(F),H=o(10),Y=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),z=function(){return(z=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||this.props.refetch&&this.props.refetch()},t.prototype.render=function(){var e=this.props,t=e.classes,o=e.theme,n=e.invoiceTotal,a=e.chartData,i=e.i18n,c=e.loading;return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:t.blockWrapper},r.createElement("div",{className:t.blockTitle},r.createElement("span",null,"Revenue By Year"),c&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:m()(t.blockContent,t.revenueStatsBlock)},r.createElement("div",{className:t.revenueStatsWrapper},r.createElement("div",{className:t.revenueStatsItem},r.createElement("div",{className:t.revenueTotalLabel},"Total"),r.createElement("div",{className:t.revenueTotalValue},r.createElement(D.Trans,{id:"currency-symbol"}),L()(n).format("0,00")))),r.createElement("div",{className:t.revenueChart},r.createElement(A.a,{data:k()(Object.values(a)),groupMode:"grouped",keys:["total"],indexBy:"key",enableLabel:!1,margin:{top:10,right:0,bottom:10,left:50},axisLeft:{format:function(e){return i._("currency-symbol")+""+L()(e).format("(0,00a)")}},axisBottom:{format:function(e){return""}},padding:.3,colors:[o.palette.primary.color1],tooltip:function(e){return r.createElement("div",{className:t.chartTooltip},r.createElement("div",{className:t.chartTooltipText},e.data.month," ",e.data.year),r.createElement("div",{className:t.chartTooltipText},e.data.count," ",B()("invoice",e.data.count)),r.createElement("div",{className:t.chartTooltipText},"Total: ",L()(e.data.total).format("$0,00")))},animate:!0,theme:{tooltip:{container:{fontSize:"13px",background:"#333944"}}}})))))},t.defauptProps={chartData:{}},t}(r.Component),V=Object(i.compose)(Object(D.withI18n)(),Object(d.withStyles)(Object(d.composeStyles)(E,(function(e){return{revenueStatsBlock:{padding:20,backgroundColor:e.palette.grey[100]},revenueStatsWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between"},revenueStatsItem:{},revenueTotalLabel:{fontFamily:e.typography.font.family2,fontSize:16,fontWeight:300,color:e.palette.blueGrey[50]},revenueTotalValue:{fontFamily:e.typography.font.family2,fontSize:20,fontWeight:500,color:e.palette.primary.color1,marginTop:5},declinedByLabel:{fontFamily:e.typography.font.family2,fontSize:16,fontWeight:300,color:e.palette.secondary.color2},declinedByValue:{fontFamily:e.typography.font.family2,fontSize:12,fontWeight:300,color:"#c4c4c4",textAlign:"right",marginTop:5},revenueChart:{marginTop:20,height:200,fontFamily:e.typography.font.family2},chartTooltip:{padding:5,color:"white"},chartTooltipText:{color:"white"},revenueChartXBlock:{display:"flex",flexDirection:"row",alignItems:"center"},revenueChartXRight:{marginRight:15,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},revenueChartXLabel:{height:30,display:"flex",alignItems:"center"},revenueChartXLeft:{flex:1,position:"relative"},revenueChartXBar:{height:30,backgroundColor:"white",borderBottom:"1px solid "+e.palette.grey[200]},revenueChartYTop:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},revenueYBar:{position:"absolute",bottom:"68px",transform:"rotate(-90deg)",left:"-67px"}}}))),Object(H.withInvoices)((function(){return{variables:{where:{invoiceDate_gt:W()().subtract(12,"months").startOf("month").format("YYYY-MM-DD")}}}}),(function(e){var t=e.data,o={};S()(0,13).map((function(e){var t=W()().subtract(e,"months"),n=t.format("MMM"),r=t.format("YYYY"),a=n+"-"+r;o[a]={month:n,year:r,key:a,total:0,count:0}}));var n=s()(t,"invoices.edges",[]),r=0;return n.map((function(e){var t=e.node;r+=Number(t.total);var n=W()(t.invoiceDate).format("MMM"),a=W()(t.invoiceDate).format("YYYY"),i=n+"-"+a,c=o[i]||{month:n,year:a,key:i,total:0,count:0};o[i]=z(z({},c),{total:c.total+Number(t.total),count:c.count+1})})),{chartData:o,invoiceTotal:r,refetch:t.refetch,loading:t.loading}})))(M),U=o(25),J=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return J(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||(s()(this.props,"projects.refetch")&&this.props.projects.refetch(),s()(this.props,"invoices.refetch")&&this.props.invoices.refetch())},t.prototype.render=function(){var e=this.props,t=e.classes,o=e.theme,n=e.invoices,a=void 0===n?{}:n,i=e.projects,c=void 0===i?{}:i,l=s()(a,"data.0",{}),p=W()().startOf("month").diff(W()(l.invoiceDate).startOf("month"),"months")+1,m=s()(a,"data",[]).reduce((function(e,t){return e+t.total}),0),u=a.loading||c.loading;return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:t.blockWrapper},r.createElement("div",{className:t.blockTitle},r.createElement("span",null,"Avg per month"),u&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:t.blockContent},r.createElement(y.a,{container:!0,spacing:0,style:{flex:1}},r.createElement(y.a,{item:!0,xs:12,classes:{item:t.rowCell}},r.createElement("div",{className:t.avgSalesBlock},r.createElement("div",{className:t.avgSalesAmount},r.createElement(D.Trans,{id:"currency-symbol"}),L()(m/p).format("0,00")),r.createElement("div",{className:t.avgSalesText},"Sales"))),r.createElement(y.a,{item:!0,xs:6,classes:{item:t.rowCell}},r.createElement("div",{className:t.avgValBlock,style:{borderRight:"1px solid "+o.palette.grey[200]}},r.createElement("div",{className:t.avgValAmount},c.count),r.createElement("div",{className:t.avgValText},"Projects"))),r.createElement(y.a,{item:!0,xs:6,classes:{item:t.rowCell}},r.createElement("div",{className:t.avgValBlock},r.createElement("div",{className:t.avgValAmount},a.count),r.createElement("div",{className:t.avgValText},"Invoices")))))))},t}(r.Component),$=Object(i.compose)(Object(c.b)((function(e){return{profile:e.profile}})),Object(d.withStyles)(Object(d.composeStyles)(E,(function(e){return{avgSalesBlock:{backgroundColor:e.palette.primary.color1,display:"flex",alignItems:"center",flexDirection:"column",padding:18,flex:1,justifyContent:"center"},avgSalesAmount:{fontFamily:e.typography.font.family2,fontSize:32,fontWeight:300,color:"white"},avgSalesText:{fontFamily:e.typography.font.family2,fontSize:14,fontWeight:300,color:e.palette.shadow.color1,marginTop:5},avgValBlock:{backgroundColor:e.palette.grey[100],display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:15,flex:1},avgValAmount:{fontFamily:e.typography.font.family2,fontSize:32,fontWeight:300,color:e.palette.blueGrey[50]},avgValText:{fontFamily:e.typography.font.family2,fontSize:14,fontWeight:300,color:"#c4c4c4",marginTop:5}}}))),Object(H.withProjects)((function(){return{variables:{where:{isArchived:!1}}}})),Object(H.withInvoices)((function(){return{variables:{where:{status_not:U.b.ARCHIVED},orderBy:"invoiceDate_ASC"}}})))(X),G=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||(s()(this.props,"paidInvoices.refetch")&&this.props.paidInvoices.refetch(),s()(this.props,"unpaidInvoices.refetch")&&this.props.unpaidInvoices.refetch(),s()(this.props,"overdueInvoices.refetch")&&this.props.overdueInvoices.refetch())},t.prototype.render=function(){var e=this.props,t=e.classes,o=e.paidInvoices,n=e.unpaidInvoices,a=e.overdueInvoices,i=s()(o,"loading")||s()(n,"loading")||s()(a,"loading");return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:t.blockWrapper},r.createElement("div",{className:t.blockTitle},r.createElement("span",null,"Invoices"),i&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:m()(t.blockContent,t.invoiceBlock)},r.createElement(y.a,{container:!0,spacing:16},r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"green")},r.createElement("div",{className:t.invoiceAmount},r.createElement(D.Trans,{id:"currency-symbol"}),L()(o.total).format("0,00")),r.createElement("div",{className:t.invoiceNumber},o.count," Invoices"),r.createElement("div",{className:t.invoiceTitle},"Total paid invoices"))),r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"orange")},r.createElement("div",{className:t.invoiceAmount},r.createElement(D.Trans,{id:"currency-symbol"}),L()(a.total).format("0,00")),r.createElement("div",{className:t.invoiceNumber},a.count," Invoices"),r.createElement("div",{className:t.invoiceTitle},"Total overdue invoices"))),r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"green")},r.createElement("div",{className:t.invoiceAmount},r.createElement(D.Trans,{id:"currency-symbol"}),L()(n.total).format("0,00")),r.createElement("div",{className:t.invoiceNumber},n.count," Invoices"),r.createElement("div",{className:t.invoiceTitle},"Total unpaid invoices")))))))},t}(r.Component),Z=Object(i.compose)(Object(d.withStyles)(Object(d.composeStyles)(E,T)),Object(H.withInvoices)((function(){return{variables:{where:{status:U.b.FULLY_PAID}}}}),(function(e){var t=e.data,o=s()(t,"invoices.edges",[]),n=s()(t,"invoices.aggregate.count");return{paidInvoices:{total:o.reduce((function(e,t){return e+t.node.total}),0),count:n,refetch:t.refetch,loading:t.loading}}})),Object(H.withInvoices)((function(){return{variables:{where:{status_in:[U.b.DRAFT,U.b.APPROVED]}}}}),(function(e){var t=e.data,o=s()(t,"invoices.edges",[]),n=s()(t,"invoices.aggregate.count");return{unpaidInvoices:{total:o.reduce((function(e,t){return e+t.node.total}),0),count:n,refetch:t.refetch,loading:t.loading}}})),Object(H.withInvoices)((function(){return{variables:{where:{status_in:[U.b.DRAFT,U.b.APPROVED],dueDate_lt:W()().format("YYYY-MM-DD")}}}}),(function(e){var t=e.data,o=s()(t,"invoices.edges",[]),n=s()(t,"invoices.aggregate.count");return{overdueInvoices:{total:o.reduce((function(e,t){return e+t.node.total}),0),count:n,refetch:t.refetch,loading:t.loading}}})))(K),q=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||(s()(this.props,"approvedTimesheets.refetch")&&this.props.approvedTimesheets.refetch(),s()(this.props,"finalisedTimesheets.refetch")&&this.props.finalisedTimesheets.refetch(),s()(this.props,"draftTimesheets.refetch")&&this.props.draftTimesheets.refetch())},t.prototype.render=function(){var e=this.props,t=e.classes,o=e.approvedTimesheets,n=e.finalisedTimesheets,a=e.draftTimesheets,i=s()(o,"loading")||s()(n,"loading")||s()(a,"loading");return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:t.blockWrapper},r.createElement("div",{className:t.blockTitle},r.createElement("span",null,"Timesheets"),i&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:m()(t.blockContent,t.invoiceBlock)},r.createElement(y.a,{container:!0,spacing:16},r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"green")},r.createElement("div",{className:t.invoiceAmount},a.count),r.createElement("div",{className:t.invoiceTitle},"Total drafts timesheets"))),r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"orange")},r.createElement("div",{className:t.invoiceAmount},n.count),r.createElement("div",{className:t.invoiceTitle},"Total finalised timesheets"))),r.createElement(y.a,{item:!0,xs:4},r.createElement("div",{className:m()(t.invoiceBlockItem,"green")},r.createElement("div",{className:t.invoiceAmount},o.count),r.createElement("div",{className:t.invoiceTitle},"Total approved timesheets")))))))},t}(r.Component),ee=Object(i.compose)(Object(c.b)((function(e){return{profile:e.profile}})),Object(d.withStyles)(Object(d.composeStyles)(E,T)),Object(H.withTimeSheets)((function(){return{name:"draftTimesheets",variables:{where:{isArchived:!1,status:U.g.DRAFT}}}})),Object(H.withTimeSheets)((function(){return{name:"finalisedTimesheets",variables:{where:{isArchived:!1,status:U.g.FINALISED}}}})),Object(H.withTimeSheets)((function(){return{name:"approvedTimesheets",variables:{where:{isArchived:!1,status:U.g.APPROVED}}}})))(Q),te=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isProjectInProgress=function(e){var t=s()(e,"startsAt"),o=s()(e,"endsAt");return!(!t||o)},t._isProjectCompleted=function(e){if(s()(e,"endsAt")){var t=s()(e,"endsAt");return W()(t).format("DD/MM/YYYY")}return!1},t._getProjectStatus=function(e){var o=t._isProjectInProgress(e),n=t._isProjectCompleted(e);return o?"In Progress":n?"Completed":"-"},t}return te(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||s()(this.props,"projects.refetch")&&this.props.projects.refetch()},t.prototype.render=function(){var e=this,t=this.props,o=t.classes,n=t.projects,a=s()(n,"data",[]);return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:o.blockWrapper},r.createElement("div",{className:o.blockTitle},r.createElement("span",null,"Most recent projects"),s()(n,"loading")&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:o.blockContent},r.createElement("div",{className:o.component},a.length>0?r.createElement("div",{className:o.list},a.map((function(t){return r.createElement("div",{className:o.listItem,key:t.id},r.createElement("div",{className:o.listItemPrimary},t.name),r.createElement("div",{className:o.listItemSecondary},e._getProjectStatus(t)))}))):r.createElement("div",{className:m()(o.listItem,o.noRecentItem)},r.createElement("div",{className:o.listItemPrimary},"No recent projects"))))))},t}(r.Component),ne=Object(i.compose)(Object(d.withStyles)(Object(d.composeStyles)(E,x)),Object(c.b)((function(e){return{profile:e.profile}})),Object(H.withProjects)((function(e){return{variables:{first:3,where:{isArchived:!1}}}})))(oe),re=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return re(t,e),t.prototype.componentDidUpdate=function(e){N()(s()(this.props,"contentHash"),s()(e,"contentHash"))||s()(this.props,"customers.refetch")&&this.props.customers.refetch()},t.prototype.render=function(){var e=this.props,t=e.classes,o=e.customers,n=s()(o,"data",[]);return r.createElement(d.ErrorBoundary,null,r.createElement("div",{className:t.blockWrapper},r.createElement("div",{className:t.blockTitle},r.createElement("span",null,"Most recent patients"),s()(o,"loading")&&r.createElement("span",null,r.createElement(d.Loading,{size:20,color:"white"}))),r.createElement("div",{className:t.blockContent},r.createElement("div",{className:t.component},n.length>0?r.createElement("div",{className:t.list},n.map((function(e){return r.createElement("div",{className:t.listItem,key:e.id},r.createElement("div",{className:t.listItemPrimary},e.name),r.createElement("div",{className:t.listItemSecondary},"-"))}))):r.createElement("div",{className:m()(t.listItem,t.noRecentItem)},r.createElement("div",{className:t.listItemPrimary},"No recent patients"))))))},t}(r.Component),ie=Object(i.compose)(Object(d.withStyles)(Object(d.composeStyles)(E,x)),Object(c.b)((function(e){return{profile:e.profile}})),Object(H.withCustomers)((function(e){return{variables:{first:3,where:{isArchived:!1}}}})))(ae),ce=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.getComponent=function(){var e=this.props.type;return"profile-stats"===e?O:"revenue"===e?V:"average-stats"===e?$:"invoices"===e?Z:"timesheets"===e?ee:"recent-projects"===e?ne:"recent-customers"===e?ie:null},t.prototype.render=function(){var e=this.getComponent(),t=this.props,o=t.xs,n=t.sm,a=t.md,i=t.lg,c=t.xl,l=t.classes,s=t.contentHash;return r.createElement(d.ErrorBoundary,null,r.createElement(y.a,{item:!0,xs:o,sm:n,md:a,lg:i,xl:c,classes:{item:l.widgetItem}},r.createElement(e,{contentHash:s})))},t.defaultProps={xs:12},t}(r.Component),se=Object(d.withStyles)(E)(le),pe=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={contentHash:f()()},t}return pe(t,e),t.prototype.componentDidMount=function(){this.props.actions.updateHeaderTitle("Dashboard")},t.prototype._renderHeaderBar=function(){var e=this.props.classes;return a.a.createElement("div",{className:e.headerBar},a.a.createElement(v.a,{focusRipple:!0,classes:{root:e.refreshButton}},a.a.createElement("i",{className:"fa fa-refresh"})),a.a.createElement("div",{className:e.lastRefreshText},"last refresh today 12:34pm"),a.a.createElement("div",{className:e.periodButtons},a.a.createElement(v.a,{focusRipple:!0,classes:{root:e.periodButton}},"Week"),a.a.createElement(v.a,{focusRipple:!0,classes:{root:e.periodButton}},"Month"),a.a.createElement(v.a,{focusRipple:!0,classes:{root:m()(e.periodButton,"active")}},"Year")),a.a.createElement(d.DatePicker,{dateFormat:"MMM YYYY",classes:{textInputWrapper:e.dateInput,calendarButton:e.calendarBtn}}))},t.prototype.render=function(){var e=this,t=this.props,o=t.classes,n=t.profile,r=this.state.contentHash,i=s()(n,"selectedCompany.owner");return a.a.createElement("div",{className:o.page},a.a.createElement(b.a,{onChange:function(){e.setState({contentHash:f()()})}},a.a.createElement(y.a,{container:!0,spacing:0},a.a.createElement(y.a,{item:!0,xs:12},a.a.createElement("div",{className:o.widgets},i&&a.a.createElement(se,{type:"revenue",xs:12,md:8,contentHash:r}),i&&a.a.createElement(se,{type:"average-stats",xs:12,md:4,contentHash:r}),i&&a.a.createElement(se,{type:"invoices",contentHash:r}),!i&&a.a.createElement(se,{type:"timesheets",contentHash:r}),a.a.createElement(se,{type:"recent-customers",contentHash:r,xs:12,md:6}),a.a.createElement(se,{type:"recent-projects",contentHash:r,xs:12,md:6}))))))},t}(r.Component);t.default=Object(i.compose)(Object(d.withStyles)((function(e){return{page:{},headerBar:{backgroundColor:e.palette.grey[100],height:50,display:"flex",alignItems:"center"},refreshButton:{padding:[[0,10]],backgroundColor:e.palette.primary.color2,color:"white",display:"flex",alignItems:"center",justifyContent:"center",width:50,fontSize:20,height:"100%"},lastRefreshText:{fontFamily:e.typography.font.family2,fontSize:14,color:"#c4c4c4",fontWeight:300,margin:[[0,15]],flex:1},periodButtons:{display:"flex",alignItems:"center",marginRight:15},periodButton:{backgroundColor:e.palette.grey[200],padding:[[10,15]],borderRadius:25,marginLeft:15,fontSize:16,fontWeight:500,fontFamily:e.typography.font.family2,width:100,color:"#c4c4c4","&.active":{backgroundColor:e.palette.primary.color1,color:"#fff"}},dateInput:{backgroundColor:"white",borderRadius:0,border:"0px solid",width:150,"&.is-filled":{backgroundColor:"white"}},calendarBtn:{backgroundColor:"white",color:e.palette.primary.color1},blockWrapper:{position:"relative",margin:10,display:"flex",flexDirection:"column",flex:1,"&.n-m-left":{marginLeft:0},"&.n-m-right":{marginRight:0},"&.n-m-top":{marginTop:0}},blockTitle:{backgroundColor:e.palette.primary.color3,padding:[[15,20]],fontFamily:e.typography.font.family1,fontSize:16,fontWeight:700,color:"white",border:"1px solid "+e.palette.grey[200],borderBottom:"0px solid",display:"flex",alignItems:"center",justifyContent:"space-between"},blockContent:{border:"1px solid "+e.palette.grey[200],borderTop:"0px solid",flex:1,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[100]},widgetItem:{display:"flex",flexDirection:"column"},rowCell:{display:"flex",flexDirection:"column"},widgets:{display:"flex",flexWrap:"wrap",padding:10}}})),Object(c.b)((function(e){return{profile:e.profile}})))(me)},25:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"f",(function(){return r})),o.d(t,"e",(function(){return a})),o.d(t,"d",(function(){return i})),o.d(t,"g",(function(){return c})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return s}));var n="YYYY-MM-DD[T]HH:mm:ss.SSS[Z]",r={FIXED:"FIXED",TIME_BASED:"TIME_BASED"},a={STARTED:"STARTED",CLOSED:"CLOSED"},i={PROJECT_ENDS:"PROJECT_ENDS",PROJECT_STARTS:"PROJECT_STARTS"},c={APPROVED:"APPROVED",DRAFT:"DRAFT",FINALISED:"FINALISED",INVOICED:"INVOICED"},l={APPROVED:"APPROVED",ARCHIVED:"ARCHIVED",DRAFT:"DRAFT",FULLY_PAID:"FULLY_PAID",UNPAID:"UNPAID",PARTIALLY_PAID:"PARTIALLY_PAID",PROPOSED:"PROPOSED",REJECTED:"REJECTED"},s={PROJECT:"PROJECT",TIMESHEET:"TIMESHEET",TIMESHEET_WITH_DETAILS:"TIMESHEET_WITH_DETAILS",FREE_TEXT:"FREE_TEXT"}},27:function(e,t,o){"use strict";var n=o(0),r=o(18),a=o(15),i=o(317),c=o(9),l=o.n(c);t.a=Object(r.compose)(Object(a.b)((function(e){return{selectedCompany:l()(e,(function(e){return e.profile.selectedCompany}))}})))((function(e){var t=e.selectedCompany,o=e.onChange,r=e.children;return Object(i.a)((function(){o(t)}),[t]),n.createElement(n.Fragment,null,r)}))},317:function(e,t,o){"use strict";var n=o(30),r=o.n(n),a=o(0);function i(e){var t,o,n=Object(a.useRef)();return t=e,o=n.current,r()(t,o)||(n.current=e),n.current}t.a=function(e,t){Object(a.useEffect)(e,i(t))}}}]);