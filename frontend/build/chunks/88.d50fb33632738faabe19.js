(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{2320:function(e,t,r){"use strict";r.r(t);var a,n=r(0),s=r.n(n),o=r(7),i=r.n(o),c=r(31),l=r.n(c),p=r(3),m=r.n(p),d=r(252),u=r.n(d),h=r(2),f=r(471),v=r(472),y=r(173),w=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(){return(E=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={allHide:!1},t}return w(t,e),t.prototype._renderSectionHeading=function(){return s.a.createElement(h.SectionHeader,{title:"Timesheets",subtitle:"Below is a list of all your archived timesheets."})},t.prototype._renderFilterUserDropdown=function(){var e=this.props,t=e.onlyMyTimesheet,r=e.users,a=e.addFilteredUser,n=e.removeFilteredUser,o=e.classes;return t?null:s.a.createElement("div",{className:o.dropdownWrapper},s.a.createElement(h.Dropdown,{label:"Filter Users",items:r.map((function(e){return{label:e.firstName+" "+e.lastName,value:e}})),multiple:!0,onChange:function(e,t,r){r?a(e.value):n(e.value)}}))},t.prototype._renderNoTimesheets=function(){var e=this.props.classes;return s.a.createElement("div",{className:e.noTimesheetsWrapper},s.a.createElement("div",{className:e.noTimesheetsMessageWrapper},s.a.createElement("div",{className:e.noTimesheetsMessage},"There are no archived Timesheets.")))},t.prototype._renderTimesheets=function(){var e=this,t=this.props,r=t.classes,a=t.timeSheetData,n=t.loadMore,o=this.state.allHide;return s.a.createElement(h.ScrollObserver,{onBottomReached:function(){return n()},onBottomReachedThreshold:500},s.a.createElement("div",{className:r.timesheetsContainer},s.a.createElement("div",{className:r.expandHideWrapper},s.a.createElement("span",{className:i()(r.expandHideLabel,{active:o}),onClick:function(){e.setState({allHide:!1})}},"Expand"),s.a.createElement("span",{className:r.slash},"/"),s.a.createElement("span",{className:i()(r.expandHideLabel,{active:!o}),onClick:function(){e.setState({allHide:!0})}},"Hide")),Object.keys(a).map((function(t){var n=a[t],i=m()(n,"project")||{},c=m()(n,"service")||{},p=m()(n,"customer")||{},d="hour";return"DAY"===c.timeBasedType&&(d="day"),s.a.createElement("div",{className:r.timesheet,key:n.id},s.a.createElement(f.a,{type:l()(n.project)?"company":"project",collapsed:o,serviceName:c.name,companyName:p.name,project:i.name,showEmailIcon:!1,showViewIcon:!1,showAddIcon:!0,rows:Object.keys(n.rows).map((function(e){var t=n.rows[e],r=m()(t,"user")||{},a=r.firstName,s=r.lastName;return{id:t.id,user:a+" "+s,period:t.startsAt+" - "+t.endsAt,status:t.status,hours:t.hours+" "+u()(d,t.hours),totalHours:t.hours,startsAt:t.startsAtFormatted}})),onAddClicked:e.props.showUnarchiveDialog}))}))))},t.prototype.render=function(){var e=this.props,t=e.classes,r=e.timeSheetData,a=e.timeSheetsLoading;return s.a.createElement(h.ErrorBoundary,null,s.a.createElement("div",{className:t.page},this._renderSectionHeading(),this._renderFilterUserDropdown(),a&&s.a.createElement(h.Loading,null),!a&&l()(r)&&this._renderNoTimesheets(),!l()(r)&&this._renderTimesheets()))},t}(n.Component),_=Object(h.withStyles)(y.a)(N);t.default=function(e){return s.a.createElement(v.a,E({},e,{timesheet_type:"archived"}),(function(e){return s.a.createElement(_,E({},e))}))}}}]);