(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{2101:function(e,t,r){"use strict";(function(e){var n,a=r(0),i=r.n(a),o=r(7),s=r.n(o),c=r(4),l=r.n(c),u=r(3),p=r.n(u),m=r(31),d=r.n(m),h=r(15),f=r(18),v=r(2),y=r(10),b=r(108),g=r(11),_=r(9),x=r.n(_),S=r(361),C=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),T=function(){return(T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},w=function(t,r,n,a){return new(n||(n=e))((function(e,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,s)}c((a=a.apply(t,r||[])).next())}))},D=function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSearchCustomer=function(e){t.props.setSearchCustomerText(e),e||t.props.updateCustomerInfo("timesheet",{})},t._goToNextStep=function(){var e=t.props,r=e.makeStepActive,n=e.markedVisited;r(1),n(0)},t._onSelectProject=function(e){return w(t,void 0,void 0,(function(){return D(this,(function(t){return this.props.updateProjectInfo("timesheet",e),this._updateCustomer(e.customer||{}),this._goToNextStep(),[2]}))}))},t._onSelectCustomer=function(e){return w(t,void 0,void 0,(function(){return D(this,(function(t){return this.props.updateProjectInfo("timesheet",{}),this._updateCustomer(e),this._goToNextStep(),[2]}))}))},t._updateCustomer=function(e){try{e&&t.props.updateCustomerInfo("timesheet",{name:e.name,govNumber:e.govNumber,email:p()(e,"contacts[0].email",""),contactName:p()(e,"contacts[0].name",""),contactSurname:p()(e,"contacts[0].surname",""),id:e.id})}catch(e){Object(g.a)(e.toString())}},t}return C(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.classes,n=t.projects,a=t.newInvoice,o=t.theme,c=t.customers,u=p()(a,"timesheet.project",{}),m=p()(a,"timesheet.customer",{});return i.a.createElement("div",null,i.a.createElement(v.SectionHeader,{title:"Create an invoice using a timesheet",subtitle:"Creating an invoice from a timesheet is a quick way to easily create an invoice from a timesheet which you have already defined.",renderLeftPart:function(){return i.a.createElement("div",{className:r.prevNextWrapper},i.a.createElement(v.Button,{title:"Next",classes:{component:r.prevNextButton},applyBorderRadius:!0,compactMode:!0,isDisabled:d()(m),buttonColor:o.palette.primary.color2,onClick:e._goToNextStep}))}}),i.a.createElement("div",{className:r.content},i.a.createElement(l.a,{container:!0},i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(v.SectionHeader,{title:"Search for customer",classes:{component:r.sectionHeading}}),i.a.createElement(v.SearchInput,{placeholder:"Search by typing the company name",items:p()(c,"data",[]).map((function(e){return T(T({},e),{label:e.name})})),defaultInputValue:d()(u)?m.name:"",onSearch:this._onSearchCustomer,onInputChange:this._onSearchCustomer,onItemClick:this._onSelectCustomer}),i.a.createElement(v.SectionHeader,{title:"Select a project",classes:{component:r.sectionHeading}}),i.a.createElement(l.a,{container:!0,spacing:16},p()(n,"data",[]).map((function(t){return i.a.createElement(l.a,{item:!0,xs:12,sm:4,key:t.id,onClick:function(){e._onSelectProject(t)},"data-test":"project-"+t.name},i.a.createElement("div",{className:s()(r.project,{selected:t.id===u.id})},t.name))})))))))},t}(a.Component);t.a=Object(f.compose)(Object(v.withStyles)(Object(v.composeStyles)(S.b,S.a)),Object(f.withState)("searchCustomerText","setSearchCustomerText",""),Object(h.b)((function(e){return{profile:e.profile,newInvoice:x()(e,(function(e){return e.sessionData.newInvoice}))}}),T({},b)),Object(y.withProjects)((function(e){return{variables:{where:{isArchived:!1},orderBy:"name_ASC"}}})),Object(y.withCustomers)((function(e){return{variables:{where:{isArchived:!1,name_contains:e.searchCustomerText||void 0},orderBy:"name_ASC"}}})))(E)}).call(this,r(21))},2348:function(e,t,r){"use strict";r.r(t);var n,a,i=r(0),o=r.n(i),s=r(71),c=r.n(s),l=r(63),u=r.n(l),p=r(2),m=r(5),d=r(15),h=r(18),f=r(27),v=r(108),y=r(467),b=r(468),g=r(2101),_=r(7),x=r.n(_),S=r(31),C=r.n(S),T=r(28),w=r(637),D=r.n(w),E=r(30),I=r.n(E),k=r(35),O=r.n(k),j=r(3),A=r.n(j),N=r(9),V=r.n(N),B=r(24),P=r.n(B),R=r(4),Y=r.n(R),F=r(10),U=r(25),M=r(361),H=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),W=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},L=function(){return(L=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},z=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n},q=function(e){function t(t){var r=e.call(this,t)||this;return r._getTimesheet=function(e,t){var r=e.timeSheets;return O()(V()(r,(function(e){return e.data}))||[],{id:t})},r._updateTimesheetsData=function(e,t){for(var n=e.i18n,i=e.profile,o=A()(i,"selectedCompany.country"),s=A()(e.timeSheets,"data",[]),c={},l=s.reduce((function(e,t){return[].concat(e,t.timeSheetEntries||[])}),[]),u=0;u<l.length;u++){var p=l[u],m=r._getTimesheet(e,p.timeSheet.id)||{},d=p.timeSheet.id+":"+p.service.id,h=c[d]||{},f=(h.hours||0)+parseFloat(p.duration||0);h.entriesId=h.entriesId||[],h.entriesId=z(h.entriesId,[p.id]);var v=P()(m.startsAt).format("DD MMM YYYY"),y=P()(m.endsAt).format("DD MMM YYYY"),b=h.rows||[];b.push(p),h=L(L({},h),{timeSheetId:p.timeSheet.id,hours:f,period:v+" - "+y,service:p.service,user:m.user,status:m.status,rows:b}),c[d]=h}var g=[];if(t)Object.keys(c).map((function(e){for(var t=c[e],r=t.rows||[],i=0;i<r.length;i++){var s=r[i],l="-",u="-",p=n._("currency-symbol")(a||(a=W([""],[""])))+"0",m=0,d=0,h=0,f=A()(t,"service.timeBasedType");"HOUR"!==f&&"DAY"!==f||(m=(d=A()(t,"service.totalAmount",0))*Number(s.duration||0),h="AU"===o?.1*m:0,p=n._("currency-symbol")+""+h,u=n._("currency-symbol")+""+d,l=n._("currency-symbol")+""+m);var v=P()(s.date).format("DD MMM YYYY");g.push({id:s.id,timeSheetId:t.timeSheetId,entriesId:t.entriesId,entryId:s.id,serviceId:V()(t,(function(e){return e.service.id})),service:V()(t,(function(e){return e.service.name})),time_period:v,entry_date:P()(s.date).format("YYYY-MM-DD"),quantity:s.duration,rate:d,amount:m,gst:h,rate_str:u,amount_str:l,gst_str:p,includeConsTax:V()(t,(function(e){return e.service.includeConsTax})),user:t.user,username:A()(t,"user.firstName")+" "+A()(t,"user.lastName"),status:t.status,select:!0})}}));else{var _=Object.keys(c);for(u=0;u<_.length;u++){var x=_[u],S=c[x];if(S.hours&&!(Number(S.hours)<=0)){var C="-",T="-",w=n._("currency-symbol")+"0",D=0,E=0,I=0,k=A()(S,"service.timeBasedType");"HOUR"!==k&&"DAY"!==k||(D=(E=A()(S,"service.totalAmount",0))*S.hours,I="AU"===o?.1*D:0,w=n._("currency-symbol")+""+I,T=n._("currency-symbol")+""+E,C=n._("currency-symbol")+""+D),g.push({id:x,timeSheetId:S.timeSheetId,entriesId:S.entriesId,serviceId:V()(S,(function(e){return e.service.id})),service:V()(S,(function(e){return e.service.name})),time_period:S.period,quantity:S.hours,rate:E,amount:D,gst:I,rate_str:T,amount_str:C,gst_str:w,includeConsTax:V()(S,(function(e){return e.service.includeConsTax})),user:S.user,username:A()(S,"user.firstName")+" "+A()(S,"user.lastName"),status:S.status,select:!0})}}}r.props.updateTableData("timesheet",g),r.setState({timesheetsById:c})},r._updateIncludeGst=function(e){return function(t){var n=r.props.newInvoice,a=V()(n,(function(e){return e.timesheet})),i=V()(a,(function(e){return e.tableData}))||[];O()(i,{id:e.id}).includeConsTax=!e.includeConsTax,r.props.updateTableData("timesheet",z(i))}},r._updateGstValue=function(e){return function(t){var n=r.props,a=n.newInvoice,i=n.i18n,o=V()(a,(function(e){return e.timesheet})),s=V()(o,(function(e){return e.tableData}))||[],c=O()(s,{id:e.id});c.gst=Number(t)||0,c.gst_str=i._("currency-symbol")+""+t,r.props.updateTableData("timesheet",z(s))}},r._updateSelectedTimesheet=function(e){return function(t){var n=r.props.newInvoice,a=V()(n,(function(e){return e.timesheet})),i=V()(a,(function(e){return e.tableData}))||[];O()(i,{id:e.id}).select=!e.select,r.props.updateTableData("timesheet",z(i))}},r._onChangeTimesheetDetailsCheckbox=function(e){var t=r.state.headerData;e?(t[1].id="entry_date",t[1].label="Entry date"):(t[1].id="time_period",t[1].label="Time Period"),r.props.updateShowTimesheetDetailsSelection("timesheet",e),r._updateTimesheetsData(r.props,e),r.setState({headerData:t})},r._renderCell=function(e,t,n){var a=r.props,i=a.classes,s=a.theme,c=a.profile,l=A()(c,"selectedCompany.country");return"service"===t.id?o.a.createElement("div",{className:i.serviceCell,"data-test":e.select?"timesheet-selected":""},o.a.createElement(p.Checkbox,{id:"timesheet-select-"+e.id,size:"medium",value:e.select,onChange:r._updateSelectedTimesheet(e)}),o.a.createElement("span",{className:i.serviceLabel},e[t.id])):"gst_str"===t.id?o.a.createElement("div",{className:x()(i.gstCell,i.borderCell)},o.a.createElement(p.TextField,{id:"gst-input-"+e.id,placeholder:"0",showClearIcon:!1,value:e.includeConsTax?String(e.gst):"0",icon:o.a.createElement("span",{className:i.dollarIcon},o.a.createElement(T.Trans,{id:"currency-symbol"})),classes:{textInputWrapper:i.tableInputWrapper,component:i.smallInputComponent,leftIcon:i.inputLeftIcon,textInput:i.gstTextInput},isReadOnly:"AU"===l||!e.includeConsTax,onChangeText:r._updateGstValue(e)}),o.a.createElement(p.ToggleSwitch,{onColor:s.palette.primary.color1,compact:!0,value:e.includeConsTax,onChange:r._updateIncludeGst(e)})):"quantity"===t.id||"rate"===t.id||"amount"===t.id?o.a.createElement("div",{className:i.borderCell},e[t.id]):n},r.state={headerData:[],timesheetsById:{}},r}return H(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.classes,r=e.i18n,n=e.newInvoice;this.setState({headerData:[{id:"service",label:"Service",classes:{cellValueText:t.smallTextCell}},{id:"time_period",label:"Time Period",classes:{cellValueText:t.smallTextCell}},{id:"status",label:"Status",classes:{cellValueText:t.smallTextCell}},{id:"username",label:"Username",classes:{cellValueText:t.smallTextCell}},{id:"quantity",label:"Quantity",classes:{cellValueText:t.smallTextCell}},{id:"rate_str",label:"Rate",classes:{cellValueText:t.smallTextCell}},{id:"amount_str",label:"Amount",classes:{cellValueText:t.smallTextCell}},{id:"gst_str",label:r._("GST"),classes:{cellValueText:t.smallTextCell,tableHeaderCellWrapper:t.gstHeader}}]});var a=A()(n,"timesheet.showTimesheetDetails",!1);this._updateTimesheetsData(this.props,a)},t.prototype.componentDidUpdate=function(e){if(!I()(V()(this.props,(function(e){return e.timeSheets.data})),V()(e,(function(e){return e.timeSheets.data})))){var t=A()(this.props,"newInvoice.timesheet.showTimesheetDetails",!1);this._updateTimesheetsData(this.props,t)}},t.prototype._renderFilterUserDropdown=function(){var e=this.props,t=e.addSelectedUser,r=e.removeSelectedUser,n=e.classes,a=e.dropdownUsers;return o.a.createElement(Y.a,{item:!0,xs:6},o.a.createElement("div",{className:n.dropdownWrapper,style:{paddingRight:10}},o.a.createElement(p.Dropdown,{label:"Filter Users",items:a,multiple:!0,onChange:function(e,n,a){a?t(e.value):r(e.value)}})))},t.prototype._renderFilterDatePicker=function(){var e=this.props,t=e.classes,r=e.setFilteredFromDate,n=e.setFilteredToDate,a=e.filteredFromDate,i=e.filteredToDate;return o.a.createElement(Y.a,{item:!0,xs:6,classes:{item:t.dropdownWrapper}},o.a.createElement(Y.a,{container:!0},o.a.createElement(Y.a,{item:!0,xs:6},o.a.createElement(p.DatePicker,{label:"From Date",onDateChange:function(e){r(e?P()(e).format("YYYY-MM-DD"):null)},value:a,classes:{component:t.fromDatePicker}})),o.a.createElement(Y.a,{item:!0,xs:6},o.a.createElement(p.DatePicker,{label:"To Date",onDateChange:function(e){n(e?P()(e).format("YYYY-MM-DD"):null)},calendarProps:{minDate:new Date(a)},value:i}))))},t.prototype.render=function(){var e=this.props,t=e.classes,r=e.makeStepActive,n=e.markedVisited,a=e.theme,i=e.unmarkedVisited,s=e.newInvoice,c=V()(s,(function(e){return e.timesheet})),l=V()(c,(function(e){return e.customer}))||{},u=V()(c,(function(e){return e.tableData}))||[],m=V()(c,(function(e){return e.showTimesheetDetails}))||!1;return o.a.createElement("div",null,o.a.createElement(p.SectionHeader,{title:"Create an invoice using a timesheet",subtitle:"Creating an invoice from a timesheet is a quick way to easily create an invoice from a timesheet which you have already defined.",renderLeftPart:function(){return o.a.createElement("div",{className:t.prevNextWrapper},o.a.createElement(p.Button,{title:"Prev",classes:{component:t.prevNextButton},applyBorderRadius:!0,compactMode:!0,buttonColor:a.palette.primary.color2,withoutBackground:!0,onClick:function(){r(0),i(0)}}),o.a.createElement(p.Button,{id:"next-button",title:"Next",classes:{component:t.prevNextButton},applyBorderRadius:!0,compactMode:!0,buttonColor:a.palette.primary.color2,onClick:function(){u.length>0&&(r(2),n(1))}}))}}),o.a.createElement("div",{className:t.content},o.a.createElement(Y.a,{container:!0},o.a.createElement(Y.a,{item:!0,xs:12},o.a.createElement("div",{className:t.customerTitle,"data-test":"customer-name"},l.name),o.a.createElement("div",{className:t.customerAttr,"data-test":"contact-name"},l.contactName," ",l.contactSurname),o.a.createElement("div",{className:t.customerAttr,"data-test":"contact-email"},l.email)),o.a.createElement(Y.a,{item:!0,xs:12},o.a.createElement("div",{className:t.timesheetDetailsCheckbox},o.a.createElement(p.Checkbox,{label:"Timesheet Details",onChange:this._onChangeTimesheetDetailsCheckbox,value:m}),o.a.createElement(p.Tooltip,{classes:{component:t.timesheetDetailsTooltip},title:"Timesheet details allows you to select individual entries within a Timesheet that you would like to invoice. This allows you the flexibility to partly invoice a timesheet that flows over into the next month."},(function(e){var r=e.isVisible;return o.a.createElement("i",{className:x()(t.questionIcon,{"ion-ios-help-outline":!r,"ion-help-circled":r})})})))),this._renderFilterUserDropdown(),this._renderFilterDatePicker(),o.a.createElement(Y.a,{item:!0,xs:12},o.a.createElement(p.SectionHeader,{title:"Timesheets",classes:{component:t.timesheetHeading}}),o.a.createElement("div",{className:t.timesheetsTable},o.a.createElement(p.Table,{columnData:this.state.headerData,data:u||[],stripe:!1,showRemoveIcon:!1,sortable:!1,cellRenderer:this._renderCell}))))))},t}(i.Component),G=Object(h.compose)(Object(T.withI18n)(),Object(p.withStyles)(Object(p.composeStyles)(M.b,M.c)),Object(h.withState)("filteredFromDate","setFilteredFromDate",null),Object(h.withState)("filteredToDate","setFilteredToDate",null),Object(h.withStateHandlers)((function(){return{filteredUsers:[]}}),{addSelectedUser:function(e){var t=e.filteredUsers;return function(e){return t.indexOf(e),{filteredUsers:z(t,[e])}}},removeSelectedUser:function(e){var t=e.filteredUsers;return function(e){var r=t.indexOf(e);return r>-1&&t.splice(r,1),{filteredUsers:z(t)}}}}),Object(d.b)((function(e){return{profile:e.profile,newInvoice:V()(e,(function(e){return e.sessionData.newInvoice}))}}),L({},v)),Object(F.withTimeSheets)((function(e){var t=A()(e,"newInvoice.timesheet.project",{}),r=A()(e,"newInvoice.timesheet.customer",{}),n={isArchived:!1,isInvoiced:!1};C()(t)?n.customer={id:r.id}:n.project={id:t.id},e.filteredFromDate&&e.filteredToDate?(n.date_gte=e.filteredFromDate,n.date_lte=e.filteredToDate):e.filteredFromDate?n.date_gte=e.filteredFromDate:e.filteredToDate&&(n.date_lte=e.filteredToDate);var a={status_not:U.g.DRAFT,isArchived:!1,timeSheetEntries_some:n};return e.filteredUsers.length>0&&(a.user={id_in:D()(e.filteredUsers)}),{variables:{where:a,timeSheetEntryWhere:n,orderBy:"startsAt_ASC"}}})),Object(F.withCompany)((function(e){return{id:A()(e,"profile.selectedCompany.id")}}),(function(e){var t=e.data;return{dropdownUsers:A()(t,"company.companyMembers",[]).map((function(e){return e.user})).filter((function(e){return e.isActive&&e.firstName&&e.lastName})).map((function(e){return{label:e.firstName+" "+e.lastName,value:e.id}}))}})))(q),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(){return(Q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},K=function(e){function t(t){var r=e.call(this,t)||this;r._updateSteps=function(e){var t=r.state.steps,n=c()(t,{active:!0});n>-1&&(t[n]=Q(Q({},t[n]),{active:!1}),t[e]=Q(Q({},t[e]),{active:!0}),r.setState({steps:t}))},r._makeStepActive=function(e){r.props.history.push(m.a.CREATE_TIMESHEETS_TO_INVOICES()+"?step="+(e+1))},r._markedVisited=function(e){var t=r.state.steps;t[e]=Q(Q({},t[e]),{visited:!0}),r.setState({steps:t})},r._unmarkedVisited=function(e){var t=r.state.steps;t[e]=Q(Q({},t[e]),{visited:!1}),r.setState({steps:t})},r._onStepClick=function(e,t){r._makeStepActive(t)},r._cancelInvoice=function(){var e=r.props.theme,t=o.a.createElement("div",null,o.a.createElement("div",null,"Are you sure you want to cancel this invoice ?"),o.a.createElement("br",null),o.a.createElement("div",null,"All your unsaved invoice data will be lost. ")),n=[{title:"Close",type:"cancel",onClick:function(){r.props.actions.closeAlertDialog()}},{title:"Cancel",onClick:function(){r.props.actions.closeAlertDialog(),r.props.history.push(m.a.INVOICES())}}],a=e.palette.primary.color2;r.props.actions.showAlertDialog({title:"Cancel Invoice?",description:t,buttons:n,titleColor:a})};var n=u.a.parse(t.location.search),a=0;return n.step&&(a=n.step-1),r.state={steps:[{label:"Customer",active:0===a,component:o.a.createElement(g.a,{makeStepActive:r._makeStepActive,markedVisited:r._markedVisited,unmarkedVisited:r._unmarkedVisited})},{label:"Timesheets",active:1===a,component:o.a.createElement(G,{makeStepActive:r._makeStepActive,markedVisited:r._markedVisited,unmarkedVisited:r._unmarkedVisited})},{label:"Details",active:2===a,component:o.a.createElement(y.a,Q({},r.props,{createType:"timesheet",makeStepActive:r._makeStepActive,markedVisited:r._markedVisited,unmarkedVisited:r._unmarkedVisited}))},{label:"Review",active:3===a,component:o.a.createElement(b.a,Q({},r.props,{createType:"timesheet",makeStepActive:r._makeStepActive,markedVisited:r._markedVisited,unmarkedVisited:r._unmarkedVisited}))}]},r}return J(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.location.search!==e.location.search){var t=u.a.parse(this.props.location.search);t.step?this._updateSteps(t.step-1):this._updateSteps(1)}},t.prototype.componentDidMount=function(){this.props.actions.updateHeaderTitle("Invoices")},t.prototype.render=function(){var e=this,t=this.props.classes;return o.a.createElement(p.ErrorBoundary,null,o.a.createElement(f.a,{onChange:function(){e.props.resetInvoiceData("timesheet"),e.props.history.push(m.a.CREATE_INVOICES())}},o.a.createElement("div",{className:t.page},o.a.createElement("div",{className:t.allSteps},o.a.createElement(p.WizardSteps,{steps:this.state.steps,onStepClick:this._onStepClick})),o.a.createElement("div",{className:t.draftButtonWrapper},o.a.createElement(p.Button,{title:"Cancel",classes:{text:t.cancelButtonText},buttonColor:"#EAEAEA",onClick:this._cancelInvoice}),o.a.createElement(p.Button,{title:"Save as draft",buttonColor:"#29A9DB"})))))},t}(i.Component);t.default=Object(h.compose)(Object(p.withStyles)(M.b),Object(d.b)((function(){return{}}),{resetInvoiceData:v.resetInvoiceData}))(K)},361:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),t.b=function(e){return{page:{flex:1,display:"flex",flexDirection:"column",position:"relative"},allSteps:{padding:"40px 20px 100px"},prevNextWrapper:{display:"flex",alignItems:"center"},prevNextButton:{width:180,margin:"0px 10px"},content:{marginTop:"30px !important"},sectionHeading:{marginTop:30,marginBottom:20},form:{marginTop:20},input:{marginTop:10,position:"relative"},draftButtonWrapper:{display:"flex",alignItems:"center",position:"absolute",left:0,right:0,bottom:0},paymentOptions:{display:"flex",alignItems:"center"},paymentOption:{marginRight:10,border:"1px solid "+e.palette.primary.color2,borderRadius:5,cursor:"pointer",minWidth:100,padding:20,color:e.palette.primary.color2,textAlign:"center","&.selected":{backgroundColor:e.palette.primary.color2,color:"white"}},attachWrapper:{display:"flex",alignItems:"center"},attachButton:{height:52,display:"flex",alignItems:"center",justifyContent:"center",fontSize:25,padding:"0px 20px",backgroundColor:e.palette.primary.color2,marginTop:38,color:"white",borderTopRightRadius:5,borderBottomRightRadius:5},sendInvoiceButton:{width:250,margin:"0px 10px"},cancelButtonText:{color:e.palette.primary.color3}}};var n=function(e){return{project:{border:"1px solid "+e.palette.primary.color2,fontSize:16,padding:"35px 15px",fontFamily:e.typography.font.family2,textAlign:"center",flex:1,color:e.palette.primary.color2,borderRadius:5,cursor:"pointer","&.selected":{backgroundColor:e.palette.primary.color2,color:"white"}}}},a=function(e){return{customerTitle:{color:e.palette.primary.color1,fontSize:24,fontFamily:e.typography.font.family1,fontWeight:"bold",marginBottom:10},customerAttr:{marginTop:5,fontSize:16,fontFamily:e.typography.font.family2,color:e.palette.blueGrey[50]},timesheetHeading:{marginTop:30,marginBottom:15},gstLabel:{marginRight:20,minWidth:50},serviceCell:{display:"flex",alignItems:"center",padding:"0px 10px"},serviceLabel:{marginLeft:10,fontSize:15},gstCell:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0px !important"},gstHeader:{width:"20%"},borderCell:{paddingLeft:24,paddingRight:24,borderLeft:"1px solid "+e.palette.grey[200],minHeight:50,display:"flex",alignItems:"center"},smallTextCell:{fontSize:15},tableInputWrapper:{borderRadius:0,border:"0px","&.is-filled":{backgroundColor:"white"}},inputLeftIcon:{padding:0,paddingLeft:10},dollarIcon:{fontSize:15,color:"#aaa"},gstTextInput:{paddingLeft:5,paddingRight:5},inputLabel:{color:e.palette.grey[400],fontSize:15,fontWeight:"bold",fontFamily:e.typography.font.family2,marginBottom:10},timesheetDetailsCheckbox:{display:"flex",alignItems:"center",marginTop:20,marginBottom:0},timesheetDetailsTooltip:{marginLeft:15},questionIcon:{color:e.palette.grey[400],fontSize:30,display:"block","&:hover":{color:e.palette.primary.color1}},dropdownWrapper:{padding:[[10,0]]},fromDatePicker:{marginRight:10}}}}}]);